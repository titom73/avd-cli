{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#avd-cli","title":"AVD CLI","text":"<p>A command-line interface for processing Arista AVD inventories and generating configurations, documentation, and tests.</p>"},{"location":"#what-it-does","title":"What it does","text":"<ul> <li>Generate configurations from AVD inventory files</li> <li>Create documentation automatically</li> <li>Validate inventory structure and data</li> <li>Output ANTA tests for network validation</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install avd-cli\npipx install git+https://github.com/titom73/avd-cli.git\n\n# Generate all outputs (configs, docs, tests)\navd-cli generate all \\\n  --inventory-path ./inventory \\\n  --output-path ./output \\\n  --workflow eos-design\n\n\u2192 Loading inventory...\n\u2713 Loaded 10 devices\n\u2192 Generating configurations, documentation, and tests...\n\n\u2713 Generation complete!\n                      Generated Files\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Category       \u2503 Count \u2503 Output Path                    \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Configurations \u2502    10 \u2502 ./output/configs               \u2502\n\u2502 Documentation  \u2502    10 \u2502 ./output/documentation         \u2502\n\u2502 Tests          \u2502     1 \u2502 ./output/tests                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#advanced-features","title":"\ud83d\udca1 Advanced Features","text":"<ul> <li>Jinja2 Template Support: Full support for Jinja2 variables and expressions in inventory files</li> <li>Variable Inheritance: Sophisticated variable inheritance across inventory hierarchy</li> <li>Flexible Variable Organization: Support for both files and directories in group_vars/host_vars</li> <li>Environment Variables: All CLI options support <code>AVD_CLI_*</code> environment variables</li> <li>Rich Terminal Output: Beautiful and informative CLI experience with color-coded messages</li> </ul>"},{"location":"#documentation","title":"\ud83d\udcd6 Documentation","text":"<ul> <li> <p> Getting Started</p> <p>Installation, quick start guide, and basic usage examples</p> <p> Get Started</p> </li> <li> <p> User Guide</p> <p>Comprehensive guide covering all commands, inventory structure, and advanced features</p> <p> User Guide</p> </li> <li> <p> API Reference</p> <p>Detailed API documentation for all modules and functions</p> <p> API Docs</p> </li> <li> <p> FAQ</p> <p>Frequently asked questions and troubleshooting tips</p> <p> FAQ</p> </li> </ul>"},{"location":"#contributing","title":"\ud83e\udd1d Contributing","text":"<p>Contributions are welcome! Check out our Contributing Guide for:</p> <ul> <li>Development environment setup</li> <li>Running tests and quality checks</li> <li>Code style guidelines</li> <li>Pull request process</li> </ul>"},{"location":"#license","title":"\ud83d\udcc4 License","text":"<p>This project is licensed under the Apache License 2.0 - see the LICENSE file for details.</p>"},{"location":"#acknowledgments","title":"\ud83d\ude4f Acknowledgments","text":"<ul> <li>Arista Networks for AVD</li> <li>Click for the CLI framework</li> <li>Rich for beautiful terminal output</li> <li>pytest for testing framework</li> </ul>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"faq/#installation","title":"Installation","text":"<p>Q: How do I install AVD CLI?</p> <p>A: See the Installation Guide.</p>"},{"location":"faq/#usage","title":"Usage","text":"<p>Q: What workflows are supported?</p> <p>A: AVD CLI supports <code>eos-design</code> (full pipeline) and <code>cli-config</code> (config-only). See Workflows.</p> <p>Q: Can I use environment variables?</p> <p>A: Yes! All options support <code>AVD_CLI_*</code> environment variables. See Environment Variables.</p>"},{"location":"faq/#troubleshooting","title":"Troubleshooting","text":"<p>Q: I get \u201ccommand not found\u201d after installation</p> <p>A: Ensure pipx\u2019s bin directory is in your PATH. See Installation Troubleshooting.</p> <p>Q: Validation fails with \u201cNo spine devices found\u201d</p> <p>A: Ensure your fabric group_vars includes spine device definitions. See validate Command.</p>"},{"location":"release-notes/","title":"Release notes","text":""},{"location":"release-notes/#release-notes","title":"Release Notes","text":""},{"location":"release-notes/#v010-2025-01-xx","title":"v0.1.0 (2025-01-XX)","text":""},{"location":"release-notes/#initial-release","title":"Initial Release","text":"<ul> <li>\u2728 Configuration generation with pyavd</li> <li>\u2728 Documentation generation</li> <li>\u2728 Multi-fabric support</li> <li>\u2728 Environment variable support</li> <li>\u2728 Rich terminal output</li> </ul> <p>See CHANGELOG.md for complete history.</p>"},{"location":"api/cli/main/","title":"CLI","text":""},{"location":"api/cli/main/#cli-main-module","title":"CLI Main Module","text":""},{"location":"api/cli/main/#avd_cli.cli.main","title":"main","text":"<p>Main CLI entry point for AVD CLI.</p> <p>This module defines the main CLI group and command structure using Click.</p>"},{"location":"api/cli/main/#avd_cli.cli.main.cli","title":"cli","text":"<pre><code>cli(ctx: Context, verbose: bool) -&gt; None\n</code></pre> <p>AVD CLI - Process Arista AVD inventories and generate configurations.</p> <p>This tool processes Arista Ansible AVD inventories using py-avd to generate: - Device configurations - Documentation - ANTA tests</p> <p>Examples:</p> <p>Generate all outputs (configs, docs, tests):</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output\n</code></pre> <p>Generate only configurations:</p> <pre><code>$ avd-cli generate configs -i ./inventory -o ./output\n</code></pre> <p>Generate for specific groups:</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output -l spine -l leaf\n</code></pre> <p>Display inventory information:</p> <pre><code>$ avd-cli info -i ./inventory\n</code></pre> <p>For more information on each command or command group:</p> <pre><code>$ avd-cli COMMAND --help\n$ avd-cli generate --help\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@click.group()\n@click.version_option(version=__version__, prog_name=APP_NAME)\n@click.option(\n    \"--verbose\",\n    \"-v\",\n    is_flag=True,\n    help=\"Enable verbose output for debugging\",\n)\n@click.pass_context\ndef cli(ctx: click.Context, verbose: bool) -&gt; None:\n    \"\"\"AVD CLI - Process Arista AVD inventories and generate configurations.\n\n    This tool processes Arista Ansible AVD inventories using py-avd to generate:\n    - Device configurations\n    - Documentation\n    - ANTA tests\n\n    Examples\n    --------\n    Generate all outputs (configs, docs, tests):\n\n        $ avd-cli generate all -i ./inventory -o ./output\n\n    Generate only configurations:\n\n        $ avd-cli generate configs -i ./inventory -o ./output\n\n    Generate for specific groups:\n\n        $ avd-cli generate all -i ./inventory -o ./output -l spine -l leaf\n\n    Display inventory information:\n\n        $ avd-cli info -i ./inventory\n\n    For more information on each command or command group:\n\n        $ avd-cli COMMAND --help\n        $ avd-cli generate --help\n    \"\"\"\n    # Ensure context object exists\n    ctx.ensure_object(dict)\n\n    # Store global options in context\n    ctx.obj[\"verbose\"] = verbose\n\n    # Configure logging level based on verbose flag\n    if verbose:\n        console.print(\"[blue]\u2139[/blue] Verbose mode enabled\", style=\"dim\")\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.common_generate_options","title":"common_generate_options","text":"<pre><code>common_generate_options(\n    func: Callable[..., Any],\n) -&gt; Callable[..., Any]\n</code></pre> <p>Apply common options to all generate subcommands.</p> <p>All options support environment variables with the prefix AVD_CLI_. Environment variables are automatically shown in \u2013help output. Command-line arguments take precedence over environment variables.</p> Source code in <code>avd_cli/cli/main.py</code> <pre><code>def common_generate_options(func: Callable[..., Any]) -&gt; Callable[..., Any]:\n    \"\"\"Apply common options to all generate subcommands.\n\n    All options support environment variables with the prefix AVD_CLI_.\n    Environment variables are automatically shown in --help output.\n    Command-line arguments take precedence over environment variables.\n    \"\"\"\n    func = click.option(\n        \"--inventory-path\",\n        \"-i\",\n        type=click.Path(exists=True, file_okay=False, path_type=Path),\n        required=True,\n        envvar=\"AVD_CLI_INVENTORY_PATH\",\n        show_envvar=True,\n        help=\"Path to AVD inventory directory\",\n    )(func)\n    func = click.option(\n        \"--output-path\",\n        \"-o\",\n        type=click.Path(path_type=Path),\n        required=True,\n        envvar=\"AVD_CLI_OUTPUT_PATH\",\n        show_envvar=True,\n        help=\"Output directory for generated files\",\n    )(func)\n    func = click.option(\n        \"--limit-to-groups\",\n        \"-l\",\n        multiple=True,\n        envvar=\"AVD_CLI_LIMIT_TO_GROUPS\",\n        show_envvar=True,\n        help=\"Limit processing to specific groups (can be used multiple times). \"\n             \"Use comma-separated values in environment variable\",\n    )(func)\n    func = click.option(\n        \"--show-deprecation-warnings\",\n        is_flag=True,\n        default=False,\n        envvar=\"AVD_CLI_SHOW_DEPRECATION_WARNINGS\",\n        show_envvar=True,\n        help=\"Show pyavd deprecation warnings (hidden by default)\",\n    )(func)\n    func = click.pass_context(func)\n    return func\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.display_generation_summary","title":"display_generation_summary","text":"<pre><code>display_generation_summary(\n    category: str,\n    count: int,\n    output_path: Path,\n    subcategory: str = \"configs\",\n) -&gt; None\n</code></pre> <p>Display a summary table for generated files.</p> <p>Parameters:</p> Name Type Description Default <code>category</code> <code>str</code> <p>Category of generated files (e.g., \u201cConfigurations\u201d, \u201cDocumentation\u201d)</p> required <code>count</code> <code>int</code> <p>Number of files generated</p> required <code>subcategory</code> <code>str</code> <p>Subdirectory name under output_path, by default \u201cconfigs\u201d</p> <code>'configs'</code> Source code in <code>avd_cli/cli/main.py</code> <pre><code>def display_generation_summary(\n    category: str,\n    count: int,\n    output_path: Path,\n    subcategory: str = \"configs\"\n) -&gt; None:\n    \"\"\"Display a summary table for generated files.\n\n    Parameters\n    ----------\n    category : str\n        Category of generated files (e.g., \"Configurations\", \"Documentation\")\n    count : int\n        Number of files generated\n    subcategory : str, optional\n        Subdirectory name under output_path, by default \"configs\"\n    \"\"\"\n    from rich.table import Table\n\n    table = Table(title=\"Generated Files\")\n    table.add_column(\"Category\", style=\"cyan\")\n    table.add_column(\"Count\", style=\"magenta\", justify=\"right\")\n    table.add_column(\"Output Path\", style=\"green\")\n\n    table.add_row(category, str(count), str(output_path / subcategory))\n\n    console.print(\"\\n\")\n    console.print(table)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.generate","title":"generate","text":"<pre><code>generate(ctx: Context) -&gt; None\n</code></pre> <p>Generate configurations, documentation, and tests from AVD inventory.</p> <p>This command group provides subcommands for generating different types of outputs from Arista AVD inventories.</p> <p>Examples:</p> <p>Generate all outputs:</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output\n</code></pre> <p>Generate only configurations:</p> <pre><code>$ avd-cli generate configs -i ./inventory -o ./output\n</code></pre> <p>Generate only ANTA tests:</p> <pre><code>$ avd-cli generate tests -i ./inventory -o ./output\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@cli.group()\n@click.pass_context\ndef generate(ctx: click.Context) -&gt; None:\n    \"\"\"Generate configurations, documentation, and tests from AVD inventory.\n\n    This command group provides subcommands for generating different types\n    of outputs from Arista AVD inventories.\n\n    Examples\n    --------\n    Generate all outputs:\n\n        $ avd-cli generate all -i ./inventory -o ./output\n\n    Generate only configurations:\n\n        $ avd-cli generate configs -i ./inventory -o ./output\n\n    Generate only ANTA tests:\n\n        $ avd-cli generate tests -i ./inventory -o ./output\n    \"\"\"\n    pass\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.generate_all","title":"generate_all","text":"<pre><code>generate_all(\n    ctx: Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    workflow: str,\n) -&gt; None\n</code></pre> <p>Generate all outputs: configurations, documentation, and tests.</p> <p>This command generates everything from the AVD inventory: - Device configurations - Documentation - ANTA test files</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Generate all outputs:</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output\n</code></pre> <p>Generate with specific workflow:</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output --workflow eos-design\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ export AVD_CLI_OUTPUT_PATH=./output\n$ avd-cli generate all\n</code></pre> <p>Limit to specific groups:</p> <pre><code>$ avd-cli generate all -i ./inventory -o ./output -l spine -l leaf\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@generate.command(\"all\")\n@common_generate_options\n@click.option(\n    \"--workflow\",\n    type=click.Choice([\"eos-design\", \"cli-config\", \"full\", \"config-only\"], case_sensitive=False),\n    default=\"eos-design\",\n    envvar=\"AVD_CLI_WORKFLOW\",\n    show_envvar=True,\n    help=\"Workflow type: eos-design (eos_design + eos_cli_config_gen) or cli-config (eos_cli_config_gen only). Legacy values 'full' and 'config-only' are deprecated.\",\n)\ndef generate_all(\n    ctx: click.Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    workflow: str,\n) -&gt; None:\n    \"\"\"Generate all outputs: configurations, documentation, and tests.\n\n    This command generates everything from the AVD inventory:\n    - Device configurations\n    - Documentation\n    - ANTA test files\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Generate all outputs:\n\n        $ avd-cli generate all -i ./inventory -o ./output\n\n    Generate with specific workflow:\n\n        $ avd-cli generate all -i ./inventory -o ./output --workflow eos-design\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ export AVD_CLI_OUTPUT_PATH=./output\n        $ avd-cli generate all\n\n    Limit to specific groups:\n\n        $ avd-cli generate all -i ./inventory -o ./output -l spine -l leaf\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    # Normalize workflow for backward compatibility\n    from avd_cli.constants import normalize_workflow\n\n    workflow = normalize_workflow(workflow)\n\n    if verbose:\n        console.print(f\"[blue]\u2139[/blue] Inventory path: {inventory_path}\")\n        console.print(f\"[blue]\u2139[/blue] Output path: {output_path}\")\n        console.print(f\"[blue]\u2139[/blue] Workflow: {workflow}\")\n        if limit_to_groups:\n            console.print(f\"[blue]\u2139[/blue] Limited to groups: {', '.join(limit_to_groups)}\")\n\n    try:\n        from avd_cli.logics.generator import generate_all as gen_all\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Suppress pyavd deprecation warnings unless explicitly requested\n        suppress_pyavd_warnings(show_deprecation_warnings)\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        # Validate inventory (skip topology validation for cli-config workflow)\n        skip_topology = workflow == \"cli-config\"\n        errors = inventory.validate(skip_topology_validation=skip_topology)\n        if errors:\n            console.print(\"[red]\u2717[/red] Inventory validation failed:\")\n            for error in errors:\n                console.print(f\"  [red]\u2022[/red] {error}\")\n            sys.exit(1)\n\n        console.print(f\"[green]\u2713[/green] Loaded {len(inventory.get_all_devices())} devices\")\n\n        # Generate all outputs\n        console.print(\"[cyan]\u2192[/cyan] Generating configurations, documentation, and tests...\")\n        limit_groups = list(limit_to_groups) if limit_to_groups else None\n        configs, docs, tests = gen_all(inventory, output_path, workflow, limit_groups)\n\n        # Display summary\n        console.print(\"\\n[green]\u2713[/green] Generation complete!\")\n        from rich.table import Table\n\n        table = Table(title=\"Generated Files\")\n        table.add_column(\"Category\", style=\"cyan\")\n        table.add_column(\"Count\", style=\"magenta\", justify=\"right\")\n        table.add_column(\"Output Path\", style=\"green\")\n\n        table.add_row(\"Configurations\", str(len(configs)), str(output_path / \"configs\"))\n        table.add_row(\"Documentation\", str(len(docs)), str(output_path / \"documentation\"))\n        table.add_row(\"Tests\", str(len(tests)), str(output_path / \"tests\"))\n\n        console.print(table)\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.generate_configs","title":"generate_configs","text":"<pre><code>generate_configs(\n    ctx: Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    workflow: str,\n) -&gt; None\n</code></pre> <p>Generate device configurations only.</p> <p>This command generates only device configurations from the AVD inventory, skipping documentation and test generation.</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Generate configurations:</p> <pre><code>$ avd-cli generate configs -i ./inventory -o ./output\n</code></pre> <p>Generate with cli-config workflow:</p> <pre><code>$ avd-cli generate configs -i ./inventory -o ./output --workflow cli-config\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ export AVD_CLI_OUTPUT_PATH=./output\n$ export AVD_CLI_WORKFLOW=cli-config\n$ avd-cli generate configs\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@generate.command(\"configs\")\n@common_generate_options\n@click.option(\n    \"--workflow\",\n    type=click.Choice([\"eos-design\", \"cli-config\", \"full\", \"config-only\"], case_sensitive=False),\n    default=\"eos-design\",\n    envvar=\"AVD_CLI_WORKFLOW\",\n    show_envvar=True,\n    help=\"Workflow type: eos-design (eos_design + eos_cli_config_gen) or cli-config (eos_cli_config_gen only). Legacy values 'full' and 'config-only' are deprecated.\",\n)\ndef generate_configs(\n    ctx: click.Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    workflow: str,\n) -&gt; None:\n    \"\"\"Generate device configurations only.\n\n    This command generates only device configurations from the AVD inventory,\n    skipping documentation and test generation.\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Generate configurations:\n\n        $ avd-cli generate configs -i ./inventory -o ./output\n\n    Generate with cli-config workflow:\n\n        $ avd-cli generate configs -i ./inventory -o ./output --workflow cli-config\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ export AVD_CLI_OUTPUT_PATH=./output\n        $ export AVD_CLI_WORKFLOW=cli-config\n        $ avd-cli generate configs\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    # Normalize workflow for backward compatibility\n    from avd_cli.constants import normalize_workflow\n\n    workflow = normalize_workflow(workflow)\n\n    if verbose:\n        console.print(\"[blue]\u2139[/blue] Generating configurations only\")\n        console.print(f\"[blue]\u2139[/blue] Inventory path: {inventory_path}\")\n        console.print(f\"[blue]\u2139[/blue] Output path: {output_path}\")\n\n    try:\n        from avd_cli.logics.generator import ConfigurationGenerator\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Suppress pyavd deprecation warnings unless explicitly requested\n        suppress_pyavd_warnings(show_deprecation_warnings)\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        # Validate inventory (skip topology validation for cli-config workflow)\n        skip_topology = workflow == \"cli-config\"\n        errors = inventory.validate(skip_topology_validation=skip_topology)\n        if errors:\n            console.print(\"[red]\u2717[/red] Inventory validation failed:\")\n            for error in errors:\n                console.print(f\"  [red]\u2022[/red] {error}\")\n            sys.exit(1)\n\n        console.print(f\"[green]\u2713[/green] Loaded {len(inventory.get_all_devices())} devices\")\n\n        # Generate configurations\n        console.print(\"[cyan]\u2192[/cyan] Generating configurations...\")\n        generator = ConfigurationGenerator(workflow=workflow)\n        limit_groups = list(limit_to_groups) if limit_to_groups else None\n        configs = generator.generate(inventory, output_path, limit_groups)\n\n        console.print(f\"\\n[green]\u2713[/green] Generated {len(configs)} configuration files\")\n        display_generation_summary(\"Configurations\", len(configs), output_path, \"configs\")\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.generate_docs","title":"generate_docs","text":"<pre><code>generate_docs(\n    ctx: Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n) -&gt; None\n</code></pre> <p>Generate documentation only.</p> <p>This command generates only documentation from the AVD inventory, skipping configuration and test generation.</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Generate documentation:</p> <pre><code>$ avd-cli generate docs -i ./inventory -o ./output\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ export AVD_CLI_OUTPUT_PATH=./output\n$ avd-cli generate docs\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@generate.command(\"docs\")\n@common_generate_options\ndef generate_docs(\n    ctx: click.Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n) -&gt; None:\n    \"\"\"Generate documentation only.\n\n    This command generates only documentation from the AVD inventory,\n    skipping configuration and test generation.\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Generate documentation:\n\n        $ avd-cli generate docs -i ./inventory -o ./output\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ export AVD_CLI_OUTPUT_PATH=./output\n        $ avd-cli generate docs\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    if verbose:\n        console.print(\"[blue]\u2139[/blue] Generating documentation only\")\n        console.print(f\"[blue]\u2139[/blue] Inventory path: {inventory_path}\")\n        console.print(f\"[blue]\u2139[/blue] Output path: {output_path}\")\n\n    try:\n        from avd_cli.logics.generator import DocumentationGenerator\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Suppress pyavd deprecation warnings unless explicitly requested\n        suppress_pyavd_warnings(show_deprecation_warnings)\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        console.print(f\"[green]\u2713[/green] Loaded {len(inventory.get_all_devices())} devices\")\n\n        # Generate documentation\n        console.print(\"[cyan]\u2192[/cyan] Generating documentation...\")\n        generator = DocumentationGenerator()\n        limit_groups = list(limit_to_groups) if limit_to_groups else None\n        docs = generator.generate(inventory, output_path, limit_groups)\n\n        console.print(f\"\\n[green]\u2713[/green] Generated {len(docs)} documentation files\")\n        display_generation_summary(\"Documentation\", len(docs), output_path, \"documentation\")\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.generate_tests","title":"generate_tests","text":"<pre><code>generate_tests(\n    ctx: Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    test_type: str,\n) -&gt; None\n</code></pre> <p>Generate test files only.</p> <p>This command generates only test files (ANTA or Robot Framework) from the AVD inventory, skipping configuration and documentation generation.</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Generate ANTA tests:</p> <pre><code>$ avd-cli generate tests -i ./inventory -o ./output\n</code></pre> <p>Generate Robot Framework tests:</p> <pre><code>$ avd-cli generate tests -i ./inventory -o ./output --test-type robot\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ export AVD_CLI_OUTPUT_PATH=./output\n$ export AVD_CLI_TEST_TYPE=anta\n$ avd-cli generate tests\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@generate.command(\"tests\")\n@common_generate_options\n@click.option(\n    \"--test-type\",\n    type=click.Choice([\"anta\", \"robot\"], case_sensitive=False),\n    default=\"anta\",\n    envvar=\"AVD_CLI_TEST_TYPE\",\n    show_envvar=True,\n    help=\"Type of tests to generate (default: anta)\",\n)\ndef generate_tests(\n    ctx: click.Context,\n    inventory_path: Path,\n    output_path: Path,\n    limit_to_groups: tuple[str, ...],\n    show_deprecation_warnings: bool,\n    test_type: str,\n) -&gt; None:\n    \"\"\"Generate test files only.\n\n    This command generates only test files (ANTA or Robot Framework) from\n    the AVD inventory, skipping configuration and documentation generation.\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Generate ANTA tests:\n\n        $ avd-cli generate tests -i ./inventory -o ./output\n\n    Generate Robot Framework tests:\n\n        $ avd-cli generate tests -i ./inventory -o ./output --test-type robot\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ export AVD_CLI_OUTPUT_PATH=./output\n        $ export AVD_CLI_TEST_TYPE=anta\n        $ avd-cli generate tests\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    if verbose:\n        console.print(f\"[blue]\u2139[/blue] Generating {test_type.upper()} tests only\")\n        console.print(f\"[blue]\u2139[/blue] Inventory path: {inventory_path}\")\n        console.print(f\"[blue]\u2139[/blue] Output path: {output_path}\")\n\n    try:\n        from avd_cli.logics.generator import TestGenerator\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Suppress pyavd deprecation warnings unless explicitly requested\n        suppress_pyavd_warnings(show_deprecation_warnings)\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        console.print(f\"[green]\u2713[/green] Loaded {len(inventory.get_all_devices())} devices\")\n\n        # Generate tests\n        console.print(f\"[cyan]\u2192[/cyan] Generating {test_type.upper()} tests...\")\n        generator = TestGenerator(test_type=test_type)\n        limit_groups = list(limit_to_groups) if limit_to_groups else None\n        tests = generator.generate(inventory, output_path, limit_groups)\n\n        console.print(f\"\\n[green]\u2713[/green] Generated {len(tests)} test files\")\n        display_generation_summary(\"Tests\", len(tests), output_path, \"tests\")\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.info","title":"info","text":"<pre><code>info(\n    ctx: Context, inventory_path: Path, format: str\n) -&gt; None\n</code></pre> <p>Display inventory information and statistics.</p> <p>This command analyzes the inventory and displays information about devices, groups, and fabric structure.</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Display inventory info as table:</p> <pre><code>$ avd-cli info -i ./inventory\n</code></pre> <p>Display inventory info as JSON:</p> <pre><code>$ avd-cli info -i ./inventory --format json\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ export AVD_CLI_FORMAT=json\n$ avd-cli info\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@cli.command()\n@click.option(\n    \"--inventory-path\",\n    \"-i\",\n    type=click.Path(exists=True, file_okay=False, path_type=Path),\n    required=True,\n    envvar=\"AVD_CLI_INVENTORY_PATH\",\n    show_envvar=True,\n    help=\"Path to AVD inventory directory\",\n)\n@click.option(\n    \"--format\",\n    \"-f\",\n    type=click.Choice([\"table\", \"json\", \"yaml\"], case_sensitive=False),\n    default=\"table\",\n    envvar=\"AVD_CLI_FORMAT\",\n    show_envvar=True,\n    help=\"Output format for inventory information\",\n)\n@click.pass_context\ndef info(ctx: click.Context, inventory_path: Path, format: str) -&gt; None:  # noqa: C901\n    \"\"\"Display inventory information and statistics.\n\n    This command analyzes the inventory and displays information about\n    devices, groups, and fabric structure.\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Display inventory info as table:\n\n        $ avd-cli info -i ./inventory\n\n    Display inventory info as JSON:\n\n        $ avd-cli info -i ./inventory --format json\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ export AVD_CLI_FORMAT=json\n        $ avd-cli info\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    if verbose:\n        console.print(f\"[blue]\u2139[/blue] Reading inventory from: {inventory_path}\")\n        console.print(f\"[blue]\u2139[/blue] Output format: {format}\")\n\n    try:\n        import json\n\n        from rich.table import Table\n\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        total_devices = len(inventory.get_all_devices())\n        console.print(f\"[green]\u2713[/green] Loaded {total_devices} devices\\n\")\n\n        if format == \"table\":\n            # Display as formatted table\n            table = Table(title=\"Inventory Summary\")\n            table.add_column(\"Metric\", style=\"cyan\")\n            table.add_column(\"Value\", style=\"green\")\n\n            table.add_row(\"Total Devices\", str(total_devices))\n            table.add_row(\"Total Fabrics\", str(len(inventory.fabrics)))\n\n            for fabric in inventory.fabrics:\n                table.add_row(f\"Fabric: {fabric.name}\", \"\")\n                table.add_row(\"  - Design Type\", fabric.design_type)\n                table.add_row(\"  - Spine Devices\", str(len(fabric.spine_devices)))\n                table.add_row(\"  - Leaf Devices\", str(len(fabric.leaf_devices)))\n                table.add_row(\n                    \"  - Border Leaf Devices\", str(len(fabric.border_leaf_devices))\n                )\n\n            console.print(table)\n\n            # Device details table\n            if total_devices &gt; 0:\n                console.print(\"\\n\")\n                device_table = Table(title=\"Devices\")\n                device_table.add_column(\"Hostname\", style=\"cyan\")\n                device_table.add_column(\"Type\", style=\"yellow\")\n                device_table.add_column(\"Platform\", style=\"magenta\")\n                device_table.add_column(\"Management IP\", style=\"green\")\n                device_table.add_column(\"Fabric\", style=\"blue\")\n\n                for device in sorted(\n                    inventory.get_all_devices(), key=lambda d: d.hostname\n                ):\n                    device_table.add_row(\n                        device.hostname,\n                        device.device_type,\n                        device.platform,\n                        str(device.mgmt_ip),\n                        device.fabric,\n                    )\n\n                console.print(device_table)\n\n        elif format == \"json\":\n            # Display as JSON\n            from typing import List as ListType, Dict as DictType\n\n            info_data: DictType[str, Any] = {\n                \"total_devices\": total_devices,\n                \"total_fabrics\": len(inventory.fabrics),\n                \"fabrics\": [],\n            }\n            fabrics_list: ListType[DictType[str, Any]] = []\n\n            for fabric in inventory.fabrics:\n                fabric_data: DictType[str, Any] = {\n                    \"name\": fabric.name,\n                    \"design_type\": fabric.design_type,\n                    \"spine_devices\": len(fabric.spine_devices),\n                    \"leaf_devices\": len(fabric.leaf_devices),\n                    \"border_leaf_devices\": len(fabric.border_leaf_devices),\n                    \"devices\": [\n                        {\n                            \"hostname\": d.hostname,\n                            \"type\": d.device_type,\n                            \"platform\": d.platform,\n                            \"mgmt_ip\": str(d.mgmt_ip),\n                        }\n                        for d in fabric.get_all_devices()\n                    ],\n                }\n                fabrics_list.append(fabric_data)\n\n            info_data[\"fabrics\"] = fabrics_list\n\n            console.print_json(json.dumps(info_data, indent=2))\n\n        elif format == \"yaml\":\n            # Display as YAML\n            import yaml as yaml_lib\n            from typing import List as ListType, Dict as DictType\n\n            yaml_info_data: DictType[str, Any] = {\n                \"total_devices\": total_devices,\n                \"total_fabrics\": len(inventory.fabrics),\n                \"fabrics\": [],\n            }\n            yaml_fabrics_list: ListType[DictType[str, Any]] = []\n\n            for fabric in inventory.fabrics:\n                yaml_fabric_data: DictType[str, Any] = {\n                    \"name\": fabric.name,\n                    \"design_type\": fabric.design_type,\n                    \"spine_devices\": len(fabric.spine_devices),\n                    \"leaf_devices\": len(fabric.leaf_devices),\n                    \"border_leaf_devices\": len(fabric.border_leaf_devices),\n                    \"devices\": [\n                        {\n                            \"hostname\": d.hostname,\n                            \"type\": d.device_type,\n                            \"platform\": d.platform,\n                            \"mgmt_ip\": str(d.mgmt_ip),\n                        }\n                        for d in fabric.get_all_devices()\n                    ],\n                }\n                yaml_fabrics_list.append(yaml_fabric_data)\n\n            yaml_info_data[\"fabrics\"] = yaml_fabrics_list\n\n            console.print(yaml_lib.dump(yaml_info_data, default_flow_style=False))\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.main","title":"main","text":"<pre><code>main() -&gt; None\n</code></pre> <p>Main entry point for the CLI application.</p> Source code in <code>avd_cli/cli/main.py</code> <pre><code>def main() -&gt; None:\n    \"\"\"Main entry point for the CLI application.\"\"\"\n    try:\n        cli(obj={})\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Error: {e}\")\n        if \"--verbose\" in sys.argv or \"-v\" in sys.argv:\n            console.print_exception(show_locals=True)\n        sys.exit(1)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.suppress_pyavd_warnings","title":"suppress_pyavd_warnings","text":"<pre><code>suppress_pyavd_warnings(show_warnings: bool) -&gt; None\n</code></pre> <p>Suppress pyavd deprecation warnings unless explicitly requested.</p> <p>Parameters:</p> Name Type Description Default <code>show_warnings</code> <code>bool</code> <p>If False, suppress deprecation warnings from pyavd</p> required Source code in <code>avd_cli/cli/main.py</code> <pre><code>def suppress_pyavd_warnings(show_warnings: bool) -&gt; None:\n    \"\"\"Suppress pyavd deprecation warnings unless explicitly requested.\n\n    Parameters\n    ----------\n    show_warnings : bool\n        If False, suppress deprecation warnings from pyavd\n    \"\"\"\n    if not show_warnings:\n        import warnings\n        warnings.filterwarnings(\"ignore\", message=\".*is deprecated.*\", category=UserWarning)\n</code></pre>"},{"location":"api/cli/main/#avd_cli.cli.main.validate","title":"validate","text":"<pre><code>validate(ctx: Context, inventory_path: Path) -&gt; None\n</code></pre> <p>Validate AVD inventory structure and data.</p> <p>This command validates the inventory structure, YAML syntax, and data integrity without generating any output files.</p> <p>All options can be provided via environment variables with AVD_CLI_ prefix. Command-line arguments take precedence over environment variables.</p> <p>Examples:</p> <p>Validate inventory structure:</p> <pre><code>$ avd-cli validate -i ./inventory\n</code></pre> <p>Using environment variables:</p> <pre><code>$ export AVD_CLI_INVENTORY_PATH=./inventory\n$ avd-cli validate\n</code></pre> Source code in <code>avd_cli/cli/main.py</code> <pre><code>@cli.command()\n@click.option(\n    \"--inventory-path\",\n    \"-i\",\n    type=click.Path(exists=True, file_okay=False, path_type=Path),\n    required=True,\n    envvar=\"AVD_CLI_INVENTORY_PATH\",\n    show_envvar=True,\n    help=\"Path to AVD inventory directory\",\n)\n@click.pass_context\ndef validate(ctx: click.Context, inventory_path: Path) -&gt; None:\n    \"\"\"Validate AVD inventory structure and data.\n\n    This command validates the inventory structure, YAML syntax, and data integrity\n    without generating any output files.\n\n    All options can be provided via environment variables with AVD_CLI_ prefix.\n    Command-line arguments take precedence over environment variables.\n\n    Examples\n    --------\n    Validate inventory structure:\n\n        $ avd-cli validate -i ./inventory\n\n    Using environment variables:\n\n        $ export AVD_CLI_INVENTORY_PATH=./inventory\n        $ avd-cli validate\n    \"\"\"\n    verbose = ctx.obj.get(\"verbose\", False)\n\n    if verbose:\n        console.print(f\"[blue]\u2139[/blue] Validating inventory at: {inventory_path}\")\n\n    try:\n        from avd_cli.logics.loader import InventoryLoader\n\n        # Load inventory\n        console.print(\"[cyan]\u2192[/cyan] Loading and validating inventory...\")\n        loader = InventoryLoader()\n        inventory = loader.load(inventory_path)\n\n        # Validate inventory\n        errors = inventory.validate()\n\n        if errors:\n            console.print(f\"\\n[red]\u2717[/red] Validation failed with {len(errors)} error(s):\")\n            for error in errors:\n                console.print(f\"  [red]\u2022[/red] {error}\")\n            sys.exit(1)\n        else:\n            console.print(\"\\n[green]\u2713[/green] Validation successful!\")\n            device_count = len(inventory.get_all_devices())\n            fabric_count = len(inventory.fabrics)\n            console.print(f\"[green]\u2192[/green] Found {device_count} devices in {fabric_count} fabric(s)\")\n\n            # Display summary\n            for fabric in inventory.fabrics:\n                console.print(f\"\\n[cyan]Fabric:[/cyan] {fabric.name}\")\n                console.print(f\"  Spines: {len(fabric.spine_devices)}\")\n                console.print(f\"  Leaves: {len(fabric.leaf_devices)}\")\n                if fabric.border_leaf_devices:\n                    console.print(f\"  Border Leaves: {len(fabric.border_leaf_devices)}\")\n\n    except Exception as e:\n        console.print(f\"[red]\u2717[/red] Validation error: {e}\")\n        if verbose:\n            console.print_exception()\n        sys.exit(1)\n</code></pre>"},{"location":"api/logics/generator/","title":"Generator","text":""},{"location":"api/logics/generator/#generator-module","title":"Generator Module","text":""},{"location":"api/logics/generator/#avd_cli.logics.generator","title":"generator","text":"<p>Configuration generation functionality.</p> <p>This module provides functionality to generate device configurations, documentation, and test files from AVD inventory data.</p>"},{"location":"api/logics/generator/#avd_cli.logics.generator.ConfigurationGenerator","title":"ConfigurationGenerator","text":"<pre><code>ConfigurationGenerator(workflow: str = 'eos-design')\n</code></pre> <p>Generator for device configurations.</p> <p>This class handles generation of device configurations from AVD inventory data using py-avd library.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; generator = ConfigurationGenerator()\n&gt;&gt;&gt; configs = generator.generate(inventory, output_path)\n&gt;&gt;&gt; print(f\"Generated {len(configs)} configurations\")\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>workflow</code> <code>str</code> <p>Workflow type (\u2018eos-design\u2019 or \u2018cli-config\u2019), by default \u201ceos-design\u201d Legacy values \u2018full\u2019 and \u2018config-only\u2019 are also supported for backward compatibility.</p> <code>'eos-design'</code> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def __init__(self, workflow: str = \"eos-design\") -&gt; None:\n    \"\"\"Initialize the configuration generator.\n\n    Parameters\n    ----------\n    workflow : str, optional\n        Workflow type ('eos-design' or 'cli-config'), by default \"eos-design\"\n        Legacy values 'full' and 'config-only' are also supported for backward compatibility.\n    \"\"\"\n    from avd_cli.constants import normalize_workflow\n\n    self.workflow = normalize_workflow(workflow)\n    self.logger = logging.getLogger(f\"{__name__}.{self.__class__.__name__}\")\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.ConfigurationGenerator.generate","title":"generate","text":"<pre><code>generate(\n    inventory: InventoryData,\n    output_path: Path,\n    limit_to_groups: Optional[List[str]] = None,\n) -&gt; List[Path]\n</code></pre> <p>Generate device configurations.</p> <p>Parameters:</p> Name Type Description Default <code>inventory</code> <code>InventoryData</code> <p>Loaded inventory data</p> required <code>output_path</code> <code>Path</code> <p>Output directory for generated configs</p> required <code>limit_to_groups</code> <code>Optional[List[str]]</code> <p>Groups to limit generation to, by default None</p> <code>None</code> <p>Returns:</p> Type Description <code>List[Path]</code> <p>List of generated configuration file paths</p> <p>Raises:</p> Type Description <code>ConfigurationGenerationError</code> <p>If generation fails</p> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def generate(  # noqa: C901\n    self, inventory: InventoryData, output_path: Path, limit_to_groups: Optional[List[str]] = None\n) -&gt; List[Path]:\n    \"\"\"Generate device configurations.\n\n    Parameters\n    ----------\n    inventory : InventoryData\n        Loaded inventory data\n    output_path : Path\n        Output directory for generated configs\n    limit_to_groups : Optional[List[str]], optional\n        Groups to limit generation to, by default None\n\n    Returns\n    -------\n    List[Path]\n        List of generated configuration file paths\n\n    Raises\n    ------\n    ConfigurationGenerationError\n        If generation fails\n    \"\"\"\n    self.logger.info(\"Generating configurations with workflow: %s\", self.workflow)\n\n    # Import pyavd\n    try:\n        import pyavd\n    except ImportError as e:\n        raise ConfigurationGenerationError(\n            \"pyavd library not installed. Install with: pip install pyavd\"\n        ) from e\n\n    # Create output directory\n    configs_dir = output_path / DEFAULT_CONFIGS_DIR\n    configs_dir.mkdir(parents=True, exist_ok=True)\n\n    generated_files: List[Path] = []\n\n    try:\n        devices = inventory.get_all_devices()\n\n        # Filter by groups if specified\n        if limit_to_groups:\n            devices = [d for d in devices if d.fabric in limit_to_groups]\n            self.logger.info(\"Limited to %d devices in groups: %s\", len(devices), limit_to_groups)\n\n        # Build pyavd inputs from inventory (already resolved by InventoryLoader)\n        # This reuses the Jinja2 template resolution from InventoryLoader\n        self.logger.info(\"Building pyavd inputs from resolved inventory\")\n        all_inputs = self._build_pyavd_inputs_from_inventory(inventory, devices)\n\n        if not all_inputs:\n            self.logger.warning(\"No devices to process\")\n            return generated_files\n\n        # Step 1: Validate inputs (eos_designs schema)\n        if self.workflow == \"eos-design\":\n            self.logger.info(\"Validating inputs against eos_designs schema\")\n            for hostname, inputs in all_inputs.items():\n                validation_result = pyavd.validate_inputs(inputs)\n                if validation_result.failed:\n                    errors = \"\\n\".join(str(e) for e in validation_result.validation_errors)\n                    raise ConfigurationGenerationError(\n                        f\"Input validation failed for {hostname}:\\n{errors}\"\n                    )\n                if validation_result.deprecation_warnings:\n                    for warning in validation_result.deprecation_warnings:\n                        self.logger.warning(\"Deprecation warning for %s: %s\", hostname, warning)\n\n            # Step 2: Generate AVD facts (eos_design workflow)\n            self.logger.info(\"Generating AVD facts for %d devices\", len(all_inputs))\n            avd_facts = pyavd.get_avd_facts(all_inputs)\n\n            # Step 3: Generate structured configs for each device\n            self.logger.info(\"Generating structured configurations\")\n            structured_configs: Dict[str, Dict[str, Any]] = {}\n            for hostname, inputs in all_inputs.items():\n                structured_config = pyavd.get_device_structured_config(\n                    hostname=hostname, inputs=inputs, avd_facts=avd_facts\n                )\n                structured_configs[hostname] = structured_config\n\n        else:  # workflow == \"cli-config\"\n            # Skip eos_design, only use eos_cli_config_gen\n            self.logger.info(\"Using cli-config workflow (eos_cli_config_gen only)\")\n            structured_configs = {}\n            for hostname, inputs in all_inputs.items():\n                # For cli-config, inputs should already be structured_config\n                structured_configs[hostname] = inputs\n\n        # Step 4: Validate structured configs\n        self.logger.info(\"Validating structured configurations\")\n        for hostname, structured_config in structured_configs.items():\n            validation_result = pyavd.validate_structured_config(structured_config)\n            if validation_result.failed:\n                errors = \"\\n\".join(str(e) for e in validation_result.validation_errors)\n                raise ConfigurationGenerationError(\n                    f\"Structured config validation failed for {hostname}:\\n{errors}\"\n                )\n\n        # Step 5: Generate EOS CLI configurations\n        self.logger.info(\"Generating EOS CLI configurations\")\n        for hostname, structured_config in structured_configs.items():\n            config_file = configs_dir / f\"{hostname}.cfg\"\n            config_text = pyavd.get_device_config(structured_config)\n\n            with open(config_file, \"w\", encoding=\"utf-8\") as f:\n                f.write(config_text)\n\n            generated_files.append(config_file)\n            self.logger.debug(\"Generated config: %s\", config_file)\n\n        self.logger.info(\"Generated %d configuration files\", len(generated_files))\n        return generated_files\n\n    except ConfigurationGenerationError:\n        raise\n    except Exception as e:\n        raise ConfigurationGenerationError(f\"Failed to generate configurations: {e}\") from e\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.DocumentationGenerator","title":"DocumentationGenerator","text":"<pre><code>DocumentationGenerator(workflow: str = 'eos-design')\n</code></pre> <p>Generator for device documentation.</p> <p>This class handles generation of device documentation from AVD inventory data using py-avd library.</p> <p>Parameters:</p> Name Type Description Default <code>workflow</code> <code>str</code> <p>Workflow type (\u2018eos-design\u2019 or \u2018cli-config\u2019), by default \u201ceos-design\u201d</p> <code>'eos-design'</code> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def __init__(self, workflow: str = \"eos-design\") -&gt; None:\n    \"\"\"Initialize the documentation generator.\n\n    Parameters\n    ----------\n    workflow : str, optional\n        Workflow type ('eos-design' or 'cli-config'), by default \"eos-design\"\n    \"\"\"\n    from avd_cli.constants import normalize_workflow\n\n    self.workflow = normalize_workflow(workflow)\n    self.logger = logging.getLogger(f\"{__name__}.{self.__class__.__name__}\")\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.DocumentationGenerator.generate","title":"generate","text":"<pre><code>generate(\n    inventory: InventoryData,\n    output_path: Path,\n    limit_to_groups: Optional[List[str]] = None,\n) -&gt; List[Path]\n</code></pre> <p>Generate device documentation.</p> <p>Parameters:</p> Name Type Description Default <code>inventory</code> <code>InventoryData</code> <p>Loaded inventory data</p> required <code>output_path</code> <code>Path</code> <p>Output directory for generated docs</p> required <code>limit_to_groups</code> <code>Optional[List[str]]</code> <p>Groups to limit generation to, by default None</p> <code>None</code> <p>Returns:</p> Type Description <code>List[Path]</code> <p>List of generated documentation file paths</p> <p>Raises:</p> Type Description <code>DocumentationGenerationError</code> <p>If generation fails</p> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def generate(\n    self, inventory: InventoryData, output_path: Path, limit_to_groups: Optional[List[str]] = None\n) -&gt; List[Path]:\n    \"\"\"Generate device documentation.\n\n    Parameters\n    ----------\n    inventory : InventoryData\n        Loaded inventory data\n    output_path : Path\n        Output directory for generated docs\n    limit_to_groups : Optional[List[str]], optional\n        Groups to limit generation to, by default None\n\n    Returns\n    -------\n    List[Path]\n        List of generated documentation file paths\n\n    Raises\n    ------\n    DocumentationGenerationError\n        If generation fails\n    \"\"\"\n    self.logger.info(\"Generating documentation with workflow: %s\", self.workflow)\n\n    # Create output directory\n    docs_dir = output_path / DEFAULT_DOCS_DIR\n    docs_dir.mkdir(parents=True, exist_ok=True)\n\n    generated_files: List[Path] = []\n\n    try:\n        # Import pyavd\n        try:\n            import pyavd\n        except ImportError as e:\n            raise DocumentationGenerationError(\n                \"pyavd library not installed. Install with: pip install pyavd\"\n            ) from e\n\n        devices = inventory.get_all_devices()\n\n        # Filter by groups if specified\n        if limit_to_groups:\n            devices = [d for d in devices if d.fabric in limit_to_groups]\n\n        # Build structured configs based on workflow\n        from avd_cli.logics.generator import ConfigurationGenerator\n\n        config_gen = ConfigurationGenerator(workflow=self.workflow)\n        all_inputs = config_gen._build_pyavd_inputs_from_inventory(inventory, devices)\n\n        if not all_inputs:\n            self.logger.warning(\"No devices to process\")\n            return generated_files\n\n        structured_configs: Dict[str, Dict[str, Any]] = {}\n\n        if self.workflow == \"eos-design\":\n            # Generate AVD facts and structured configs (eos_design workflow)\n            self.logger.info(\"Generating AVD facts for documentation\")\n            avd_facts = pyavd.get_avd_facts(all_inputs)\n\n            for hostname, inputs in all_inputs.items():\n                structured_config = pyavd.get_device_structured_config(\n                    hostname=hostname, inputs=inputs, avd_facts=avd_facts\n                )\n                structured_configs[hostname] = structured_config\n\n        else:  # workflow == \"cli-config\"\n            # Use existing structured configs directly\n            self.logger.info(\"Using existing structured configs for documentation\")\n            for hostname, inputs in all_inputs.items():\n                # For cli-config, inputs ARE the structured configs\n                structured_configs[hostname] = inputs\n\n        # Generate device documentation\n        self.logger.info(\"Generating device documentation\")\n        for hostname, structured_config in structured_configs.items():\n            doc_file = docs_dir / f\"{hostname}.md\"\n            doc_text = pyavd.get_device_doc(structured_config, add_md_toc=True)\n\n            with open(doc_file, \"w\", encoding=\"utf-8\") as f:\n                f.write(doc_text)\n\n            generated_files.append(doc_file)\n            self.logger.debug(\"Generated doc: %s\", doc_file)\n\n        self.logger.info(\"Generated %d documentation files\", len(generated_files))\n        return generated_files\n\n    except DocumentationGenerationError:\n        raise\n    except Exception as e:\n        raise DocumentationGenerationError(f\"Failed to generate documentation: {e}\") from e\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.TestGenerator","title":"TestGenerator","text":"<pre><code>TestGenerator(test_type: str = 'anta')\n</code></pre> <p>Generator for test files (ANTA).</p> <p>This class handles generation of ANTA test files from AVD inventory data.</p> <p>Parameters:</p> Name Type Description Default <code>test_type</code> <code>str</code> <p>Test type (\u2018anta\u2019 or \u2018robot\u2019), by default \u201canta\u201d</p> <code>'anta'</code> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def __init__(self, test_type: str = \"anta\") -&gt; None:\n    \"\"\"Initialize the test generator.\n\n    Parameters\n    ----------\n    test_type : str, optional\n        Test type ('anta' or 'robot'), by default \"anta\"\n    \"\"\"\n    self.test_type = test_type\n    self.logger = logging.getLogger(f\"{__name__}.{self.__class__.__name__}\")\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.TestGenerator.generate","title":"generate","text":"<pre><code>generate(\n    inventory: InventoryData,\n    output_path: Path,\n    limit_to_groups: Optional[List[str]] = None,\n) -&gt; List[Path]\n</code></pre> <p>Generate test files.</p> <p>Parameters:</p> Name Type Description Default <code>inventory</code> <code>InventoryData</code> <p>Loaded inventory data</p> required <code>output_path</code> <code>Path</code> <p>Output directory for generated tests</p> required <code>limit_to_groups</code> <code>Optional[List[str]]</code> <p>Groups to limit generation to, by default None</p> <code>None</code> <p>Returns:</p> Type Description <code>List[Path]</code> <p>List of generated test file paths</p> <p>Raises:</p> Type Description <code>TestGenerationError</code> <p>If generation fails</p> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def generate(\n    self, inventory: InventoryData, output_path: Path, limit_to_groups: Optional[List[str]] = None\n) -&gt; List[Path]:\n    \"\"\"Generate test files.\n\n    Parameters\n    ----------\n    inventory : InventoryData\n        Loaded inventory data\n    output_path : Path\n        Output directory for generated tests\n    limit_to_groups : Optional[List[str]], optional\n        Groups to limit generation to, by default None\n\n    Returns\n    -------\n    List[Path]\n        List of generated test file paths\n\n    Raises\n    ------\n    TestGenerationError\n        If generation fails\n    \"\"\"\n    self.logger.info(\"Generating %s tests\", self.test_type.upper())\n\n    # Create output directory\n    tests_dir = output_path / DEFAULT_TESTS_DIR\n    tests_dir.mkdir(parents=True, exist_ok=True)\n\n    generated_files: List[Path] = []\n\n    try:\n        devices = inventory.get_all_devices()\n\n        # Filter by groups if specified\n        if limit_to_groups:\n            devices = [d for d in devices if d.fabric in limit_to_groups]\n\n        # TODO: Implement actual test generation\n        test_file = tests_dir / \"devices_tests.yaml\"\n        with open(test_file, \"w\", encoding=\"utf-8\") as f:\n            f.write(\"---\\n\")\n            f.write(f\"# {self.test_type.upper()} Tests\\n\")\n            f.write(\"# Generated by avd-cli (placeholder)\\n\\n\")\n            f.write(\"anta.tests.connectivity:\\n\")\n            for device in devices:\n                f.write(\"  - VerifyReachability:\\n\")\n                f.write(\"      hosts:\\n\")\n                f.write(f\"        - destination: {device.mgmt_ip}\\n\")\n                f.write(\"          source: Management1\\n\")\n        generated_files.append(test_file)\n\n        self.logger.info(\"Generated %d test files\", len(generated_files))\n        return generated_files\n\n    except Exception as e:\n        raise TestGenerationError(f\"Failed to generate tests: {e}\") from e\n</code></pre>"},{"location":"api/logics/generator/#avd_cli.logics.generator.generate_all","title":"generate_all","text":"<pre><code>generate_all(\n    inventory: InventoryData,\n    output_path: Path,\n    workflow: str = \"eos-design\",\n    limit_to_groups: Optional[List[str]] = None,\n) -&gt; Tuple[List[Path], List[Path], List[Path]]\n</code></pre> <p>Generate all outputs: configurations, documentation, and tests.</p> <p>Parameters:</p> Name Type Description Default <code>inventory</code> <code>InventoryData</code> <p>Loaded inventory data</p> required <code>output_path</code> <code>Path</code> <p>Output directory for all generated files</p> required <code>workflow</code> <code>str</code> <p>Workflow type, by default \u201ceos-design\u201d Legacy values \u2018full\u2019 and \u2018config-only\u2019 are also supported for backward compatibility.</p> <code>'eos-design'</code> <code>limit_to_groups</code> <code>Optional[List[str]]</code> <p>Groups to limit generation to, by default None</p> <code>None</code> <p>Returns:</p> Type Description <code>Tuple[List[Path], List[Path], List[Path]]</code> <p>Tuple of (config_files, doc_files, test_files)</p> Source code in <code>avd_cli/logics/generator.py</code> <pre><code>def generate_all(\n    inventory: InventoryData,\n    output_path: Path,\n    workflow: str = \"eos-design\",\n    limit_to_groups: Optional[List[str]] = None,\n) -&gt; Tuple[List[Path], List[Path], List[Path]]:\n    \"\"\"Generate all outputs: configurations, documentation, and tests.\n\n    Parameters\n    ----------\n    inventory : InventoryData\n        Loaded inventory data\n    output_path : Path\n        Output directory for all generated files\n    workflow : str, optional\n        Workflow type, by default \"eos-design\"\n        Legacy values 'full' and 'config-only' are also supported for backward compatibility.\n    limit_to_groups : Optional[List[str]], optional\n        Groups to limit generation to, by default None\n\n    Returns\n    -------\n    Tuple[List[Path], List[Path], List[Path]]\n        Tuple of (config_files, doc_files, test_files)\n    \"\"\"\n    from avd_cli.constants import normalize_workflow\n\n    workflow = normalize_workflow(workflow)\n\n    config_gen = ConfigurationGenerator(workflow=workflow)\n    doc_gen = DocumentationGenerator(workflow=workflow)\n    test_gen = TestGenerator()\n\n    configs = config_gen.generate(inventory, output_path, limit_to_groups)\n    docs = doc_gen.generate(inventory, output_path, limit_to_groups)\n    tests = test_gen.generate(inventory, output_path, limit_to_groups)\n\n    return configs, docs, tests\n</code></pre>"},{"location":"api/logics/loader/","title":"Loader","text":""},{"location":"api/logics/loader/#loader-module","title":"Loader Module","text":""},{"location":"api/logics/loader/#avd_cli.logics.loader","title":"loader","text":"<p>Inventory loading functionality.</p> <p>This module provides functionality to load AVD inventories from YAML files and convert them into structured data models.</p>"},{"location":"api/logics/loader/#avd_cli.logics.loader.InventoryLoader","title":"InventoryLoader","text":"<pre><code>InventoryLoader()\n</code></pre> <p>Loader for AVD inventory structures.</p> <p>This class handles loading and parsing AVD inventory files from disk, validating the directory structure, and converting YAML data into structured data models.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; loader = InventoryLoader()\n&gt;&gt;&gt; inventory = loader.load(Path(\"./inventory\"))\n&gt;&gt;&gt; print(f\"Loaded {len(inventory.get_all_devices())} devices\")\n</code></pre> Source code in <code>avd_cli/logics/loader.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Initialize the inventory loader.\"\"\"\n    self.logger = logging.getLogger(f\"{__name__}.{self.__class__.__name__}\")\n</code></pre>"},{"location":"api/logics/loader/#avd_cli.logics.loader.InventoryLoader.load","title":"load","text":"<pre><code>load(inventory_path: Path) -&gt; InventoryData\n</code></pre> <p>Load AVD inventory from directory.</p> <p>Parameters:</p> Name Type Description Default <code>inventory_path</code> <code>Path</code> <p>Path to inventory directory</p> required <p>Returns:</p> Type Description <code>InventoryData</code> <p>Loaded inventory data structure</p> <p>Raises:</p> Type Description <code>InvalidInventoryError</code> <p>If inventory structure is invalid</p> <code>FileSystemError</code> <p>If inventory directory cannot be read</p> Source code in <code>avd_cli/logics/loader.py</code> <pre><code>def load(self, inventory_path: Path) -&gt; InventoryData:\n    \"\"\"Load AVD inventory from directory.\n\n    Parameters\n    ----------\n    inventory_path : Path\n        Path to inventory directory\n\n    Returns\n    -------\n    InventoryData\n        Loaded inventory data structure\n\n    Raises\n    ------\n    InvalidInventoryError\n        If inventory structure is invalid\n    FileSystemError\n        If inventory directory cannot be read\n    \"\"\"\n    self.logger.info(\"Loading inventory from: %s\", inventory_path)\n\n    # Validate directory exists and is readable\n    self._validate_inventory_path(inventory_path)\n\n    # Load global variables\n    global_vars = self._load_global_vars(inventory_path)\n\n    # Load group variables from group_vars/\n    group_vars = self._load_group_vars(inventory_path)\n\n    # Load group variables from inventory.yml and merge\n    inventory_group_vars = self._load_inventory_group_vars(inventory_path)\n    for group_name, group_data in inventory_group_vars.items():\n        if group_name in group_vars:\n            # Merge: group_vars/ files take precedence over inventory.yml\n            merged = {**group_data, **group_vars[group_name]}\n            group_vars[group_name] = merged\n        else:\n            group_vars[group_name] = group_data\n\n    # Load host variables from host_vars/\n    host_vars = self._load_host_vars(inventory_path)\n\n    # Load hosts from inventory.yml and merge with host_vars\n    inventory_hosts = self._load_inventory_hosts(inventory_path)\n    for hostname, host_data in inventory_hosts.items():\n        if hostname in host_vars:\n            # Merge: host_vars takes precedence\n            merged = {**host_data, **host_vars[hostname]}\n            host_vars[hostname] = merged\n        else:\n            host_vars[hostname] = host_data\n\n    self.logger.info(\n        \"Loaded: %d global vars, %d groups, %d hosts\",\n        len(global_vars),\n        len(group_vars),\n        len(host_vars),\n    )\n\n    # Build template context BEFORE resolving templates\n    # This allows templates to reference hostvars that include group vars\n    self.logger.debug(\"Building template context with enriched hostvars\")\n    context = build_template_context(global_vars, group_vars, host_vars)\n\n    # Resolve Jinja2 templates in multiple passes\n    # This handles nested templates (templates that reference other templates)\n    self.logger.debug(\"Resolving Jinja2 templates in inventory variables\")\n    max_passes = 5  # Prevent infinite loops\n    for pass_num in range(max_passes):\n        # Rebuild context with partially resolved variables\n        context = build_template_context(global_vars, group_vars, host_vars)\n        resolver = TemplateResolver(context)\n\n        # Resolve templates in all variable dictionaries\n        new_global_vars = resolver.resolve_recursive(global_vars)\n        new_group_vars = {name: resolver.resolve_recursive(data) for name, data in group_vars.items()}\n        new_host_vars = {name: resolver.resolve_recursive(data) for name, data in host_vars.items()}\n\n        # Check if anything changed (templates resolved)\n        if (\n            new_global_vars == global_vars\n            and new_group_vars == group_vars\n            and new_host_vars == host_vars\n        ):\n            self.logger.debug(\"Template resolution complete after %d passes\", pass_num + 1)\n            break\n\n        global_vars = new_global_vars\n        group_vars = new_group_vars\n        host_vars = new_host_vars\n    else:\n        self.logger.warning(\n            \"Template resolution reached max passes (%d), some templates may remain unresolved\",\n            max_passes,\n        )\n\n    # Parse loaded data into DeviceDefinition and FabricDefinition objects\n    fabrics = self._parse_fabrics(global_vars, group_vars, host_vars)\n\n    # Create inventory data structure with resolved variables\n    inventory = InventoryData(\n        root_path=inventory_path,\n        fabrics=fabrics,\n        global_vars=global_vars,\n        group_vars=group_vars,\n        host_vars=host_vars,\n    )\n\n    return inventory\n</code></pre>"},{"location":"api/logics/templating/","title":"Templating","text":""},{"location":"api/logics/templating/#templating-module","title":"Templating Module","text":""},{"location":"api/logics/templating/#avd_cli.logics.templating","title":"templating","text":"<p>Jinja2 template resolution for AVD inventory variables.</p> <p>This module provides functionality to resolve Jinja2 template variables in AVD inventory YAML data structures, supporting Ansible-style variable references and filters.</p>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver","title":"TemplateResolver","text":"<pre><code>TemplateResolver(context: Dict[str, Any])\n</code></pre> <p>Resolve Jinja2 templates in AVD inventory data.</p> <p>This class handles resolution of Jinja2 template variables following Ansible conventions for variable references, hostvars access, and filters.</p> <p>Parameters:</p> Name Type Description Default <code>context</code> <code>Dict[str, Any]</code> <p>Template context containing all variables available for resolution</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; context = {\n...     \"default_mtu\": 9214,\n...     \"hostvars\": {\"spine01\": {\"platform\": \"7050X3\"}}\n... }\n&gt;&gt;&gt; resolver = TemplateResolver(context)\n&gt;&gt;&gt; resolver.resolve(\"{{ default_mtu }}\")\n'9214'\n&gt;&gt;&gt; resolver.resolve(\"{{ hostvars['spine01']['platform'] }}\")\n'7050X3'\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>context</code> <code>Dict[str, Any]</code> <p>Variables available for template resolution</p> required Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def __init__(self, context: Dict[str, Any]) -&gt; None:\n    \"\"\"Initialize template resolver with context.\n\n    Parameters\n    ----------\n    context : Dict[str, Any]\n        Variables available for template resolution\n    \"\"\"\n    self.context = context\n    self.logger = logging.getLogger(f\"{__name__}.{self.__class__.__name__}\")\n\n    # Create Jinja2 environment with default undefined behavior\n    # (undefined variables render as empty string instead of raising error)\n    self.env = Environment(\n        variable_start_string='{{',\n        variable_end_string='}}',\n        undefined=Undefined,\n        autoescape=False,\n    )\n\n    # Add custom filters (Ansible-compatible)\n    self.env.filters['bool'] = self._filter_bool\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.has_template","title":"has_template","text":"<pre><code>has_template(value: str) -&gt; bool\n</code></pre> <p>Check if string contains Jinja2 template syntax.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>str</code> <p>String to check</p> required <p>Returns:</p> Type Description <code>bool</code> <p>True if string contains {{ \u2026 }} templates</p> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def has_template(self, value: str) -&gt; bool:\n    \"\"\"Check if string contains Jinja2 template syntax.\n\n    Parameters\n    ----------\n    value : str\n        String to check\n\n    Returns\n    -------\n    bool\n        True if string contains {{ ... }} templates\n    \"\"\"\n    return bool(self.TEMPLATE_PATTERN.search(value))\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.resolve","title":"resolve","text":"<pre><code>resolve(template_str: str) -&gt; str\n</code></pre> <p>Resolve a single template string.</p> <p>Parameters:</p> Name Type Description Default <code>template_str</code> <code>str</code> <p>String containing Jinja2 template(s)</p> required <p>Returns:</p> Type Description <code>str</code> <p>Resolved string with templates replaced by their values</p> <p>Raises:</p> Type Description <code>TemplateError</code> <p>If template resolution fails (undefined variable, syntax error, etc.)</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; resolver = TemplateResolver({\"mtu\": 9214})\n&gt;&gt;&gt; resolver.resolve(\"{{ mtu }}\")\n'9214'\n&gt;&gt;&gt; resolver.resolve(\"{{ mtu | default(1500) }}\")\n'9214'\n</code></pre> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def resolve(self, template_str: str) -&gt; str:\n    \"\"\"Resolve a single template string.\n\n    Parameters\n    ----------\n    template_str : str\n        String containing Jinja2 template(s)\n\n    Returns\n    -------\n    str\n        Resolved string with templates replaced by their values\n\n    Raises\n    ------\n    TemplateError\n        If template resolution fails (undefined variable, syntax error, etc.)\n\n    Examples\n    --------\n    &gt;&gt;&gt; resolver = TemplateResolver({\"mtu\": 9214})\n    &gt;&gt;&gt; resolver.resolve(\"{{ mtu }}\")\n    '9214'\n    &gt;&gt;&gt; resolver.resolve(\"{{ mtu | default(1500) }}\")\n    '9214'\n    \"\"\"\n    # If no template syntax, return as-is\n    if not self.has_template(template_str):\n        return template_str\n\n    try:\n        template = self.env.from_string(template_str)\n        result = template.render(self.context)\n        self.logger.debug(\"Resolved template '%s' to '%s'\", template_str, result)\n        return result\n    except Jinja2TemplateError as e:\n        error_msg = f\"Template error: {e}\"\n        self.logger.error(error_msg)\n        raise AvdTemplateError(error_msg) from e\n    except Exception as e:\n        error_msg = f\"Unexpected error resolving template '{template_str}': {e}\"\n        self.logger.error(error_msg)\n        raise AvdTemplateError(error_msg) from e\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.resolve_dict","title":"resolve_dict","text":"<pre><code>resolve_dict(data: Dict[str, Any]) -&gt; Dict[str, Any]\n</code></pre> <p>Recursively resolve templates in a dictionary.</p> <p>Walks through the dictionary structure recursively, resolving templates in all string values while preserving the structure and non-string types.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>Dict[str, Any]</code> <p>Dictionary containing potential templates</p> required <p>Returns:</p> Type Description <code>Dict[str, Any]</code> <p>Dictionary with all templates resolved</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; context = {\"server\": \"10.0.0.100\", \"vrf\": \"MGMT\"}\n&gt;&gt;&gt; resolver = TemplateResolver(context)\n&gt;&gt;&gt; data = {\"radius\": {\"host\": \"{{ server }}\", \"vrf\": \"{{ vrf }}\"}}\n&gt;&gt;&gt; resolved = resolver.resolve_dict(data)\n&gt;&gt;&gt; resolved[\"radius\"][\"host\"]\n'10.0.0.100'\n</code></pre> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def resolve_dict(self, data: Dict[str, Any]) -&gt; Dict[str, Any]:\n    \"\"\"Recursively resolve templates in a dictionary.\n\n    Walks through the dictionary structure recursively, resolving templates\n    in all string values while preserving the structure and non-string types.\n\n    Parameters\n    ----------\n    data : Dict[str, Any]\n        Dictionary containing potential templates\n\n    Returns\n    -------\n    Dict[str, Any]\n        Dictionary with all templates resolved\n\n    Examples\n    --------\n    &gt;&gt;&gt; context = {\"server\": \"10.0.0.100\", \"vrf\": \"MGMT\"}\n    &gt;&gt;&gt; resolver = TemplateResolver(context)\n    &gt;&gt;&gt; data = {\"radius\": {\"host\": \"{{ server }}\", \"vrf\": \"{{ vrf }}\"}}\n    &gt;&gt;&gt; resolved = resolver.resolve_dict(data)\n    &gt;&gt;&gt; resolved[\"radius\"][\"host\"]\n    '10.0.0.100'\n    \"\"\"\n    result = {}\n    for key, value in data.items():\n        result[key] = self.resolve_recursive(value)\n    return result\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.resolve_list","title":"resolve_list","text":"<pre><code>resolve_list(data: List[Any]) -&gt; List[Any]\n</code></pre> <p>Recursively resolve templates in a list.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>List[Any]</code> <p>List containing potential templates</p> required <p>Returns:</p> Type Description <code>List[Any]</code> <p>List with all templates resolved</p> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def resolve_list(self, data: List[Any]) -&gt; List[Any]:\n    \"\"\"Recursively resolve templates in a list.\n\n    Parameters\n    ----------\n    data : List[Any]\n        List containing potential templates\n\n    Returns\n    -------\n    List[Any]\n        List with all templates resolved\n    \"\"\"\n    return [self.resolve_recursive(item) for item in data]\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.resolve_recursive","title":"resolve_recursive","text":"<pre><code>resolve_recursive(data: Any) -&gt; Any\n</code></pre> <p>Recursively resolve templates in any data structure.</p> <p>This method handles dicts, lists, and primitive types, recursively walking through nested structures to resolve all template strings.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>Any</code> <p>Data structure (dict, list, str, int, bool, None, etc.)</p> required <p>Returns:</p> Type Description <code>Any</code> <p>Data structure with all templates resolved</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; context = {\"mtu\": 9214, \"vrf\": \"MGMT\"}\n&gt;&gt;&gt; resolver = TemplateResolver(context)\n&gt;&gt;&gt; data = {\n...     \"interfaces\": [\n...         {\"name\": \"Ethernet1\", \"mtu\": \"{{ mtu }}\"},\n...         {\"name\": \"Ethernet2\", \"mtu\": \"{{ mtu }}\"}\n...     ],\n...     \"vrf\": \"{{ vrf }}\"\n... }\n&gt;&gt;&gt; resolved = resolver.resolve_recursive(data)\n&gt;&gt;&gt; resolved[\"interfaces\"][0][\"mtu\"]\n'9214'\n</code></pre> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def resolve_recursive(self, data: Any) -&gt; Any:\n    \"\"\"Recursively resolve templates in any data structure.\n\n    This method handles dicts, lists, and primitive types, recursively\n    walking through nested structures to resolve all template strings.\n\n    Parameters\n    ----------\n    data : Any\n        Data structure (dict, list, str, int, bool, None, etc.)\n\n    Returns\n    -------\n    Any\n        Data structure with all templates resolved\n\n    Examples\n    --------\n    &gt;&gt;&gt; context = {\"mtu\": 9214, \"vrf\": \"MGMT\"}\n    &gt;&gt;&gt; resolver = TemplateResolver(context)\n    &gt;&gt;&gt; data = {\n    ...     \"interfaces\": [\n    ...         {\"name\": \"Ethernet1\", \"mtu\": \"{{ mtu }}\"},\n    ...         {\"name\": \"Ethernet2\", \"mtu\": \"{{ mtu }}\"}\n    ...     ],\n    ...     \"vrf\": \"{{ vrf }}\"\n    ... }\n    &gt;&gt;&gt; resolved = resolver.resolve_recursive(data)\n    &gt;&gt;&gt; resolved[\"interfaces\"][0][\"mtu\"]\n    '9214'\n    \"\"\"\n    if isinstance(data, dict):\n        return self.resolve_dict(data)\n    if isinstance(data, list):\n        return self.resolve_list(data)\n    if isinstance(data, str):\n        return self.resolve(data)\n    # Preserve non-string types (int, bool, None, etc.)\n    return data\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.TemplateResolver.resolve_value","title":"resolve_value","text":"<pre><code>resolve_value(value: Any) -&gt; Any\n</code></pre> <p>Resolve templates in a single value (string, int, bool, etc.).</p> <p>Only string values are processed for templates. Other types are returned unchanged to preserve type information.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>Any</code> <p>Value to resolve (string, int, bool, None, etc.)</p> required <p>Returns:</p> Type Description <code>Any</code> <p>Resolved value (same type as input for non-strings)</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; resolver = TemplateResolver({\"mtu\": 9214})\n&gt;&gt;&gt; resolver.resolve_value(\"{{ mtu }}\")\n'9214'\n&gt;&gt;&gt; resolver.resolve_value(123)\n123\n&gt;&gt;&gt; resolver.resolve_value(True)\nTrue\n</code></pre> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def resolve_value(self, value: Any) -&gt; Any:\n    \"\"\"Resolve templates in a single value (string, int, bool, etc.).\n\n    Only string values are processed for templates. Other types are returned\n    unchanged to preserve type information.\n\n    Parameters\n    ----------\n    value : Any\n        Value to resolve (string, int, bool, None, etc.)\n\n    Returns\n    -------\n    Any\n        Resolved value (same type as input for non-strings)\n\n    Examples\n    --------\n    &gt;&gt;&gt; resolver = TemplateResolver({\"mtu\": 9214})\n    &gt;&gt;&gt; resolver.resolve_value(\"{{ mtu }}\")\n    '9214'\n    &gt;&gt;&gt; resolver.resolve_value(123)\n    123\n    &gt;&gt;&gt; resolver.resolve_value(True)\n    True\n    \"\"\"\n    # Only resolve templates in strings\n    if isinstance(value, str):\n        return self.resolve(value)\n    return value\n</code></pre>"},{"location":"api/logics/templating/#avd_cli.logics.templating.build_template_context","title":"build_template_context","text":"<pre><code>build_template_context(\n    global_vars: Dict[str, Any],\n    group_vars: Dict[str, Dict[str, Any]],\n    host_vars: Dict[str, Dict[str, Any]],\n) -&gt; Dict[str, Any]\n</code></pre> <p>Build Jinja2 template context from inventory variables.</p> <p>Creates a context dictionary suitable for template resolution by merging global variables, group variables, and constructing the hostvars dictionary.</p> <p>For hostvars, we merge global + all group vars + host vars for each host. This ensures templates like {{ hostvars[\u2018host\u2019]['group_var'] }} work.</p> <p>Parameters:</p> Name Type Description Default <code>global_vars</code> <code>Dict[str, Any]</code> <p>Global variables from group_vars/all.yml</p> required <code>group_vars</code> <code>Dict[str, Dict[str, Any]]</code> <p>All group variables</p> required <code>host_vars</code> <code>Dict[str, Dict[str, Any]]</code> <p>All host variables</p> required <p>Returns:</p> Type Description <code>Dict[str, Any]</code> <p>Template context with all variables and hostvars</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; global_vars = {\"default_mtu\": 9214}\n&gt;&gt;&gt; group_vars = {\"SPINES\": {\"bgp_as\": 65001}}\n&gt;&gt;&gt; host_vars = {\"spine01\": {\"platform\": \"7050X3\"}}\n&gt;&gt;&gt; context = build_template_context(global_vars, group_vars, host_vars)\n&gt;&gt;&gt; context[\"default_mtu\"]\n9214\n&gt;&gt;&gt; context[\"hostvars\"][\"spine01\"][\"platform\"]\n'7050X3'\n</code></pre> Source code in <code>avd_cli/logics/templating.py</code> <pre><code>def build_template_context(\n    global_vars: Dict[str, Any],\n    group_vars: Dict[str, Dict[str, Any]],\n    host_vars: Dict[str, Dict[str, Any]],\n) -&gt; Dict[str, Any]:\n    \"\"\"Build Jinja2 template context from inventory variables.\n\n    Creates a context dictionary suitable for template resolution by merging\n    global variables, group variables, and constructing the hostvars dictionary.\n\n    For hostvars, we merge global + all group vars + host vars for each host.\n    This ensures templates like {{ hostvars['host']['group_var'] }} work.\n\n    Parameters\n    ----------\n    global_vars : Dict[str, Any]\n        Global variables from group_vars/all.yml\n    group_vars : Dict[str, Dict[str, Any]]\n        All group variables\n    host_vars : Dict[str, Dict[str, Any]]\n        All host variables\n\n    Returns\n    -------\n    Dict[str, Any]\n        Template context with all variables and hostvars\n\n    Examples\n    --------\n    &gt;&gt;&gt; global_vars = {\"default_mtu\": 9214}\n    &gt;&gt;&gt; group_vars = {\"SPINES\": {\"bgp_as\": 65001}}\n    &gt;&gt;&gt; host_vars = {\"spine01\": {\"platform\": \"7050X3\"}}\n    &gt;&gt;&gt; context = build_template_context(global_vars, group_vars, host_vars)\n    &gt;&gt;&gt; context[\"default_mtu\"]\n    9214\n    &gt;&gt;&gt; context[\"hostvars\"][\"spine01\"][\"platform\"]\n    '7050X3'\n    \"\"\"\n    context: Dict[str, Any] = {}\n\n    # Add global variables\n    context.update(global_vars)\n\n    # Add all group variables (later groups may override earlier ones)\n    for group_data in group_vars.values():\n        context.update(group_data)\n\n    # Create enriched hostvars dictionary (Ansible-style)\n    # Each host gets: global_vars + its host_vars\n    # We intentionally do NOT merge all group_vars here because we don't know\n    # which groups each host belongs to without parsing inventory.yml hierarchy.\n    # Group vars are available at the top level of the context for direct access.\n    enriched_hostvars: Dict[str, Dict[str, Any]] = {}\n\n    # For each host, merge global vars + host vars\n    for hostname, host_data in host_vars.items():\n        enriched_hostvars[hostname] = {**global_vars, **host_data}\n        # Add special Ansible variables\n        enriched_hostvars[hostname][\"inventory_hostname\"] = hostname\n\n    context[\"hostvars\"] = enriched_hostvars\n\n    logger.debug(\"Built template context with %d top-level keys and %d hosts\",\n                 len(context), len(enriched_hostvars))\n    return context\n</code></pre>"},{"location":"api/models/inventory/","title":"Models","text":""},{"location":"api/models/inventory/#inventory-models","title":"Inventory Models","text":""},{"location":"api/models/inventory/#avd_cli.models.inventory","title":"inventory","text":"<p>Data models for AVD inventory structures.</p> <p>This module defines the core data models for representing AVD inventories, including devices, fabrics, and complete inventory structures.</p>"},{"location":"api/models/inventory/#avd_cli.models.inventory.DeviceDefinition","title":"DeviceDefinition  <code>dataclass</code>","text":"<pre><code>DeviceDefinition(\n    hostname: str,\n    platform: str,\n    mgmt_ip: Union[IPv4Address, IPv6Address],\n    device_type: str,\n    fabric: str,\n    pod: Optional[str] = None,\n    rack: Optional[str] = None,\n    mgmt_gateway: Optional[\n        Union[IPv4Address, IPv6Address]\n    ] = None,\n    serial_number: Optional[str] = None,\n    system_mac_address: Optional[str] = None,\n    structured_config: Dict[str, Any] = dict(),\n    custom_variables: Dict[str, Any] = dict(),\n)\n</code></pre> <p>Core device definition data model.</p> <p>Represents a single network device in the AVD inventory with all its properties and configuration data.</p> <p>Parameters:</p> Name Type Description Default <code>hostname</code> <code>str</code> <p>Device hostname (must be valid DNS name)</p> required <code>platform</code> <code>str</code> <p>EOS platform type (validated against supported platforms)</p> required <code>mgmt_ip</code> <code>Union[IPv4Address, IPv6Address]</code> <p>Management IP address</p> required <code>device_type</code> <code>str</code> <p>Device role type (validated against supported types)</p> required <code>fabric</code> <code>str</code> <p>Fabric name this device belongs to</p> required <code>pod</code> <code>Optional[str]</code> <p>Pod identifier, by default None</p> <code>None</code> <code>rack</code> <code>Optional[str]</code> <p>Rack identifier, by default None</p> <code>None</code> <code>mgmt_gateway</code> <code>Optional[Union[IPv4Address, IPv6Address]]</code> <p>Management gateway IP, by default None</p> <code>None</code> <code>serial_number</code> <code>Optional[str]</code> <p>Device serial number, by default None</p> <code>None</code> <code>system_mac_address</code> <code>Optional[str]</code> <p>System MAC address, by default None</p> <code>None</code> <code>structured_config</code> <code>Dict[str, Any]</code> <p>AVD structured configuration, by default empty dict</p> <code>dict()</code> <code>custom_variables</code> <code>Dict[str, Any]</code> <p>Custom variables for this device, by default empty dict</p> <code>dict()</code>"},{"location":"api/models/inventory/#avd_cli.models.inventory.DeviceDefinition.__post_init__","title":"__post_init__","text":"<pre><code>__post_init__() -&gt; None\n</code></pre> <p>Validate device definition after initialization.</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def __post_init__(self) -&gt; None:\n    \"\"\"Validate device definition after initialization.\"\"\"\n    self._validate_hostname()\n    self._validate_platform()\n    self._validate_device_type()\n    self._normalize_ip_addresses()\n</code></pre>"},{"location":"api/models/inventory/#avd_cli.models.inventory.FabricDefinition","title":"FabricDefinition  <code>dataclass</code>","text":"<pre><code>FabricDefinition(\n    name: str,\n    design_type: str,\n    spine_devices: List[DeviceDefinition] = list(),\n    leaf_devices: List[DeviceDefinition] = list(),\n    border_leaf_devices: List[DeviceDefinition] = list(),\n    bgp_asn_range: Optional[str] = None,\n    mlag_peer_l3_vlan: int = 4093,\n    mlag_peer_vlan: int = 4094,\n)\n</code></pre> <p>Fabric topology definition.</p> <p>Represents a complete fabric with all its devices organized by type.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Fabric name</p> required <code>design_type</code> <code>str</code> <p>Design type (e.g., \u2018l3ls-evpn\u2019, \u2018mpls\u2019)</p> required <code>spine_devices</code> <code>List[DeviceDefinition]</code> <p>List of spine devices, by default empty list</p> <code>list()</code> <code>leaf_devices</code> <code>List[DeviceDefinition]</code> <p>List of leaf devices, by default empty list</p> <code>list()</code> <code>border_leaf_devices</code> <code>List[DeviceDefinition]</code> <p>List of border leaf devices, by default empty list</p> <code>list()</code> <code>bgp_asn_range</code> <code>Optional[str]</code> <p>BGP ASN range for the fabric, by default None</p> <code>None</code> <code>mlag_peer_l3_vlan</code> <code>int</code> <p>MLAG peer L3 VLAN ID, by default 4093</p> <code>4093</code> <code>mlag_peer_vlan</code> <code>int</code> <p>MLAG peer VLAN ID, by default 4094</p> <code>4094</code>"},{"location":"api/models/inventory/#avd_cli.models.inventory.FabricDefinition.get_all_devices","title":"get_all_devices","text":"<pre><code>get_all_devices() -&gt; List[DeviceDefinition]\n</code></pre> <p>Get all devices in fabric.</p> <p>Returns:</p> Type Description <code>List[DeviceDefinition]</code> <p>Combined list of all devices in the fabric</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def get_all_devices(self) -&gt; List[DeviceDefinition]:\n    \"\"\"Get all devices in fabric.\n\n    Returns\n    -------\n    List[DeviceDefinition]\n        Combined list of all devices in the fabric\n    \"\"\"\n    return self.spine_devices + self.leaf_devices + self.border_leaf_devices\n</code></pre>"},{"location":"api/models/inventory/#avd_cli.models.inventory.FabricDefinition.get_devices_by_type","title":"get_devices_by_type","text":"<pre><code>get_devices_by_type(\n    device_type: str,\n) -&gt; List[DeviceDefinition]\n</code></pre> <p>Get devices filtered by type.</p> <p>Parameters:</p> Name Type Description Default <code>device_type</code> <code>str</code> <p>Device type to filter by</p> required <p>Returns:</p> Type Description <code>List[DeviceDefinition]</code> <p>List of devices matching the specified type</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def get_devices_by_type(self, device_type: str) -&gt; List[DeviceDefinition]:\n    \"\"\"Get devices filtered by type.\n\n    Parameters\n    ----------\n    device_type : str\n        Device type to filter by\n\n    Returns\n    -------\n    List[DeviceDefinition]\n        List of devices matching the specified type\n    \"\"\"\n    return [d for d in self.get_all_devices() if d.device_type == device_type]\n</code></pre>"},{"location":"api/models/inventory/#avd_cli.models.inventory.InventoryData","title":"InventoryData  <code>dataclass</code>","text":"<pre><code>InventoryData(\n    root_path: Path,\n    fabrics: List[FabricDefinition] = list(),\n    global_vars: Dict[str, Any] = dict(),\n    group_vars: Dict[str, Dict[str, Any]] = dict(),\n    host_vars: Dict[str, Dict[str, Any]] = dict(),\n)\n</code></pre> <p>Complete inventory data structure.</p> <p>Represents the entire AVD inventory with all fabrics and global variables.</p> <p>Parameters:</p> Name Type Description Default <code>root_path</code> <code>Path</code> <p>Root path to the inventory directory</p> required <code>fabrics</code> <code>List[FabricDefinition]</code> <p>List of fabric definitions, by default empty list</p> <code>list()</code> <code>global_vars</code> <code>Dict[str, Any]</code> <p>Global variables applicable to all devices, by default empty dict</p> <code>dict()</code> <code>group_vars</code> <code>Dict[str, Dict[str, Any]]</code> <p>Group variables (resolved from group_vars/), by default empty dict</p> <code>dict()</code> <code>host_vars</code> <code>Dict[str, Dict[str, Any]]</code> <p>Host variables (resolved from host_vars/), by default empty dict</p> <code>dict()</code>"},{"location":"api/models/inventory/#avd_cli.models.inventory.InventoryData.get_all_devices","title":"get_all_devices","text":"<pre><code>get_all_devices() -&gt; List[DeviceDefinition]\n</code></pre> <p>Get all devices across all fabrics.</p> <p>Returns:</p> Type Description <code>List[DeviceDefinition]</code> <p>Combined list of all devices from all fabrics</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def get_all_devices(self) -&gt; List[DeviceDefinition]:\n    \"\"\"Get all devices across all fabrics.\n\n    Returns\n    -------\n    List[DeviceDefinition]\n        Combined list of all devices from all fabrics\n    \"\"\"\n    devices = []\n    for fabric in self.fabrics:\n        devices.extend(fabric.get_all_devices())\n    return devices\n</code></pre>"},{"location":"api/models/inventory/#avd_cli.models.inventory.InventoryData.get_device_by_hostname","title":"get_device_by_hostname","text":"<pre><code>get_device_by_hostname(\n    hostname: str,\n) -&gt; Optional[DeviceDefinition]\n</code></pre> <p>Find device by hostname.</p> <p>Parameters:</p> Name Type Description Default <code>hostname</code> <code>str</code> <p>Hostname to search for</p> required <p>Returns:</p> Type Description <code>Optional[DeviceDefinition]</code> <p>Device if found, None otherwise</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def get_device_by_hostname(self, hostname: str) -&gt; Optional[DeviceDefinition]:\n    \"\"\"Find device by hostname.\n\n    Parameters\n    ----------\n    hostname : str\n        Hostname to search for\n\n    Returns\n    -------\n    Optional[DeviceDefinition]\n        Device if found, None otherwise\n    \"\"\"\n    for device in self.get_all_devices():\n        if device.hostname == hostname:\n            return device\n    return None\n</code></pre>"},{"location":"api/models/inventory/#avd_cli.models.inventory.InventoryData.validate","title":"validate","text":"<pre><code>validate(\n    skip_topology_validation: bool = False,\n) -&gt; List[str]\n</code></pre> <p>Validate complete inventory structure.</p> <p>Checks for common issues like duplicate hostnames, duplicate IPs, etc.</p> <p>Parameters:</p> Name Type Description Default <code>skip_topology_validation</code> <code>bool</code> <p>Skip topology-specific validations (e.g., spine presence). Useful for cli-config workflow where structured configs are used directly, by default False</p> <code>False</code> <p>Returns:</p> Type Description <code>List[str]</code> <p>List of validation error messages (empty if valid)</p> Source code in <code>avd_cli/models/inventory.py</code> <pre><code>def validate(self, skip_topology_validation: bool = False) -&gt; List[str]:\n    \"\"\"Validate complete inventory structure.\n\n    Checks for common issues like duplicate hostnames, duplicate IPs, etc.\n\n    Parameters\n    ----------\n    skip_topology_validation : bool, optional\n        Skip topology-specific validations (e.g., spine presence).\n        Useful for cli-config workflow where structured configs are used directly,\n        by default False\n\n    Returns\n    -------\n    List[str]\n        List of validation error messages (empty if valid)\n    \"\"\"\n    errors = []\n\n    # Check for duplicate hostnames\n    hostnames = [d.hostname for d in self.get_all_devices()]\n    duplicates = [h for h in hostnames if hostnames.count(h) &gt; 1]\n    if duplicates:\n        errors.append(f\"Duplicate hostnames found: {set(duplicates)}\")\n\n    # Check for duplicate management IPs\n    mgmt_ips = [str(d.mgmt_ip) for d in self.get_all_devices()]\n    duplicate_ips = [ip for ip in mgmt_ips if mgmt_ips.count(ip) &gt; 1]\n    if duplicate_ips:\n        errors.append(f\"Duplicate management IPs: {set(duplicate_ips)}\")\n\n    # Validate topology only for eos-design workflow\n    if not skip_topology_validation:\n        for fabric in self.fabrics:\n            if not fabric.spine_devices:\n                errors.append(f\"Fabric {fabric.name} has no spine devices\")\n\n    return errors\n</code></pre>"},{"location":"api/utils/schema/","title":"Schema","text":""},{"location":"api/utils/schema/#schema-utils","title":"Schema Utils","text":""},{"location":"api/utils/schema/#avd_cli.utils.schema","title":"schema","text":"<p>Schema utilities for loading constants from py-avd.</p> <p>This module provides utilities to dynamically load schema constants from the py-avd library, with graceful fallback to hardcoded values when py-avd is unavailable.</p>"},{"location":"api/utils/schema/#avd_cli.utils.schema.clear_schema_cache","title":"clear_schema_cache","text":"<pre><code>clear_schema_cache() -&gt; None\n</code></pre> <p>Clear cached schema values.</p> <p>Useful for testing or when py-avd is dynamically loaded.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; clear_schema_cache()\n&gt;&gt;&gt; platforms = get_supported_platforms()  # Will reload from schema\n</code></pre> Source code in <code>avd_cli/utils/schema.py</code> <pre><code>def clear_schema_cache() -&gt; None:\n    \"\"\"Clear cached schema values.\n\n    Useful for testing or when py-avd is dynamically loaded.\n\n    Examples\n    --------\n    &gt;&gt;&gt; clear_schema_cache()\n    &gt;&gt;&gt; platforms = get_supported_platforms()  # Will reload from schema\n    \"\"\"\n    get_supported_platforms.cache_clear()\n    get_supported_device_types.cache_clear()\n    get_avd_schema_version.cache_clear()\n</code></pre>"},{"location":"api/utils/schema/#avd_cli.utils.schema.get_avd_schema_version","title":"get_avd_schema_version  <code>cached</code>","text":"<pre><code>get_avd_schema_version() -&gt; Optional[str]\n</code></pre> <p>Get py-avd schema version.</p> <p>Returns:</p> Type Description <code>Optional[str]</code> <p>Schema version string, or None if py-avd unavailable</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; version = get_avd_schema_version()\n&gt;&gt;&gt; version is None or isinstance(version, str)\nTrue\n</code></pre> Source code in <code>avd_cli/utils/schema.py</code> <pre><code>@lru_cache(maxsize=1)\ndef get_avd_schema_version() -&gt; Optional[str]:\n    \"\"\"Get py-avd schema version.\n\n    Returns\n    -------\n    Optional[str]\n        Schema version string, or None if py-avd unavailable\n\n    Examples\n    --------\n    &gt;&gt;&gt; version = get_avd_schema_version()\n    &gt;&gt;&gt; version is None or isinstance(version, str)\n    True\n    \"\"\"\n    try:\n        import pyavd\n\n        return getattr(pyavd, \"__version__\", None)\n    except ImportError:\n        logger.debug(\"py-avd not available, schema version unknown\")\n        return None\n</code></pre>"},{"location":"api/utils/schema/#avd_cli.utils.schema.get_supported_device_types","title":"get_supported_device_types  <code>cached</code>","text":"<pre><code>get_supported_device_types() -&gt; List[str]\n</code></pre> <p>Get list of supported device types.</p> <p>Attempts to load from py-avd schema. Falls back to hardcoded list if py-avd is unavailable or import fails.</p> <p>Returns:</p> Type Description <code>List[str]</code> <p>List of supported device type names</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; types = get_supported_device_types()\n&gt;&gt;&gt; \"spine\" in types\nTrue\n</code></pre> Source code in <code>avd_cli/utils/schema.py</code> <pre><code>@lru_cache(maxsize=1)\ndef get_supported_device_types() -&gt; List[str]:\n    \"\"\"Get list of supported device types.\n\n    Attempts to load from py-avd schema. Falls back to hardcoded list\n    if py-avd is unavailable or import fails.\n\n    Returns\n    -------\n    List[str]\n        List of supported device type names\n\n    Examples\n    --------\n    &gt;&gt;&gt; types = get_supported_device_types()\n    &gt;&gt;&gt; \"spine\" in types\n    True\n    \"\"\"\n    try:\n        # Attempt to import py-avd schema\n        import pyavd  # noqa: F401\n\n        # For now, return fallback until py-avd API is confirmed\n        logger.info(\"py-avd available, using %d device types\", len(_FALLBACK_DEVICE_TYPES))\n        return list(_FALLBACK_DEVICE_TYPES)\n\n    except (ImportError, AttributeError) as e:\n        logger.debug(\"Could not load device types from py-avd: %s. Using fallback list.\", e)\n        return list(_FALLBACK_DEVICE_TYPES)\n</code></pre>"},{"location":"api/utils/schema/#avd_cli.utils.schema.get_supported_platforms","title":"get_supported_platforms  <code>cached</code>","text":"<pre><code>get_supported_platforms() -&gt; List[str]\n</code></pre> <p>Get list of supported EOS platforms.</p> <p>Attempts to load from py-avd schema. Falls back to hardcoded list if py-avd is unavailable or import fails.</p> <p>Returns:</p> Type Description <code>List[str]</code> <p>List of supported platform names</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; platforms = get_supported_platforms()\n&gt;&gt;&gt; \"vEOS-lab\" in platforms\nTrue\n</code></pre> Source code in <code>avd_cli/utils/schema.py</code> <pre><code>@lru_cache(maxsize=1)\ndef get_supported_platforms() -&gt; List[str]:\n    \"\"\"Get list of supported EOS platforms.\n\n    Attempts to load from py-avd schema. Falls back to hardcoded list\n    if py-avd is unavailable or import fails.\n\n    Returns\n    -------\n    List[str]\n        List of supported platform names\n\n    Examples\n    --------\n    &gt;&gt;&gt; platforms = get_supported_platforms()\n    &gt;&gt;&gt; \"vEOS-lab\" in platforms\n    True\n    \"\"\"\n    try:\n        # Attempt to import py-avd schema\n        # Note: Actual pyavd API may differ - adjust based on real implementation\n        import pyavd  # noqa: F401\n\n        # For now, return fallback until py-avd API is confirmed\n        logger.info(\"py-avd available, using %d platforms\", len(_FALLBACK_PLATFORMS))\n        return list(_FALLBACK_PLATFORMS)\n\n    except (ImportError, AttributeError) as e:\n        logger.debug(\"Could not load platforms from py-avd: %s. Using fallback list.\", e)\n        return list(_FALLBACK_PLATFORMS)\n</code></pre>"},{"location":"development/architecture/","title":"Architecture","text":""},{"location":"development/architecture/#architecture","title":"Architecture","text":"<p>AVD CLI follows a clean, layered architecture:</p> <ul> <li>cli/ - Command-line interface</li> <li>models/ - Data models and validation</li> <li>logics/ - Business logic  </li> <li>utils/ - Utility functions</li> </ul> <p>See Architecture Spec.</p>"},{"location":"development/contributing/","title":"Contributing","text":""},{"location":"development/contributing/#contributing-to-avd-cli","title":"Contributing to AVD CLI","text":"<p>Thank you for your interest in contributing to AVD CLI! This document provides guidelines and instructions for contributing to the project.</p>"},{"location":"development/contributing/#getting-started","title":"\ud83d\ude80 Getting Started","text":""},{"location":"development/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9 or higher</li> <li>UV package manager (recommended) or pip</li> <li>Git</li> </ul>"},{"location":"development/contributing/#setup-development-environment","title":"Setup Development Environment","text":"<pre><code># Clone the repository\ngit clone https://github.com/aristanetworks/avd-cli.git\ncd avd-cli\n\n# Install with development dependencies\nuv sync --extra dev\n\n# Install pre-commit hooks\nmake pre-commit-install\n</code></pre>"},{"location":"development/contributing/#running-tests","title":"\ud83e\uddea Running Tests","text":""},{"location":"development/contributing/#using-make-recommended","title":"Using Make (Recommended)","text":"<pre><code># Run all tests\nmake test\n\n# Run specific test types\nmake test-unit          # Unit tests only\nmake test-integration   # Integration tests only\nmake test-e2e          # End-to-end tests only\n\n# Run with coverage report\nmake coverage\n\n# Run linting\nmake lint\n\n# Run type checking\nmake type\n\n# Run all checks (format, lint, type, test)\nmake check\n</code></pre>"},{"location":"development/contributing/#using-tox-alternative","title":"Using Tox (Alternative)","text":"<p>The project supports tox for backward compatibility and testing across multiple Python versions:</p> <pre><code># List all available environments\nmake tox-list\n# or: uv run tox list\n\n# Run specific environment\nuv run tox -e lint      # Linting\nuv run tox -e type      # Type checking\nuv run tox -e test      # Run tests\nuv run tox -e py39      # Test on Python 3.9\nuv run tox -e py310     # Test on Python 3.10\nuv run tox -e py311     # Test on Python 3.11\nuv run tox -e py313     # Test on Python 3.13\n\n# Run all default environments\nuv run tox\n\n# Using Makefile shortcuts\nmake tox-lint\nmake tox-type\nmake tox-test\nmake tox-all\n</code></pre>"},{"location":"development/contributing/#code-quality-standards","title":"\ud83d\udcdd Code Quality Standards","text":""},{"location":"development/contributing/#linting-and-formatting","title":"Linting and Formatting","text":"<p>All code must pass the following checks:</p> <ul> <li>flake8: PEP 8 compliance and code style</li> <li>pylint: Code quality and best practices (must score 10.00/10)</li> <li>mypy: Type checking (strict mode)</li> <li>black: Code formatting (120 char line length)</li> <li>isort: Import sorting</li> </ul> <p>Run all checks:</p> <pre><code>make check\n</code></pre>"},{"location":"development/contributing/#type-hints","title":"Type Hints","text":"<p>Type hints are required for all functions and methods:</p> <pre><code>from typing import Optional\nfrom pathlib import Path\n\ndef process_inventory(\n    inventory_path: Path,\n    output_path: Path,\n    limit_groups: Optional[list[str]] = None\n) -&gt; dict[str, Any]:\n    \"\"\"Process AVD inventory and return results.\"\"\"\n    pass\n</code></pre>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<p>Use NumPy-style docstrings:</p> <pre><code>def generate_config(hostname: str, inputs: dict[str, Any]) -&gt; str:\n    \"\"\"Generate device configuration.\n\n    Parameters\n    ----------\n    hostname : str\n        Device hostname\n    inputs : dict[str, Any]\n        Device input variables\n\n    Returns\n    -------\n    str\n        Generated configuration\n\n    Raises\n    ------\n    ConfigurationGenerationError\n        If configuration generation fails\n    \"\"\"\n    pass\n</code></pre>"},{"location":"development/contributing/#test-coverage","title":"Test Coverage","text":"<ul> <li>All new features must include tests</li> <li>Test coverage must be maintained above 80%</li> <li>Use pytest for all tests</li> <li>Follow AAA pattern (Arrange, Act, Assert)</li> </ul> <pre><code>def test_load_inventory_success(tmp_path: Path) -&gt; None:\n    \"\"\"Test successful inventory loading.\"\"\"\n    # Arrange\n    inventory_path = tmp_path / \"inventory\"\n    inventory_path.mkdir()\n    (inventory_path / \"inventory.yml\").write_text(\"...\")\n\n    # Act\n    loader = InventoryLoader()\n    result = loader.load(inventory_path)\n\n    # Assert\n    assert result is not None\n    assert len(result.get_all_devices()) &gt; 0\n</code></pre>"},{"location":"development/contributing/#available-make-targets","title":"\ud83d\udd27 Available Make Targets","text":"<pre><code>make help                  # Display all available commands\nmake install              # Install the package\nmake dev-install          # Install with dev dependencies\nmake clean                # Clean build artifacts\nmake test                 # Run all tests\nmake test-unit            # Run unit tests only\nmake test-integration     # Run integration tests only\nmake test-e2e             # Run end-to-end tests only\nmake lint                 # Run linting\nmake type                 # Run type checking\nmake format               # Format code with black and isort\nmake check                # Run all checks\nmake coverage             # Generate coverage report\nmake pre-commit           # Run pre-commit hooks\nmake pre-commit-install   # Install pre-commit hooks\nmake tox-list             # List tox environments\nmake tox-lint             # Run tox lint environment\nmake tox-type             # Run tox type environment\nmake tox-test             # Run tox test environment\nmake tox-all              # Run all tox environments\n</code></pre>"},{"location":"development/contributing/#architecture","title":"\ud83c\udfd7\ufe0f Architecture","text":"<p>AVD CLI follows a layered architecture:</p> <pre><code>avd_cli/\n\u251c\u2500\u2500 cli/              # CLI interface (Click commands)\n\u2502   \u2514\u2500\u2500 main.py      # Command definitions and CLI entry point\n\u251c\u2500\u2500 models/           # Data models and validation\n\u2502   \u2514\u2500\u2500 inventory.py # Inventory data structures\n\u251c\u2500\u2500 logics/           # Business logic and processing\n\u2502   \u251c\u2500\u2500 generator.py # Configuration/documentation generation\n\u2502   \u251c\u2500\u2500 loader.py    # Inventory loading\n\u2502   \u2514\u2500\u2500 templating.py # Jinja2 template processing\n\u2514\u2500\u2500 utils/            # Utility functions\n    \u2514\u2500\u2500 schema.py    # Schema validation\n</code></pre>"},{"location":"development/contributing/#key-design-principles","title":"Key Design Principles","text":"<ol> <li>Separation of Concerns: CLI, business logic, and data models are separate</li> <li>Dependency Injection: Pass dependencies through constructors</li> <li>Single Responsibility: Each class/function has one clear purpose</li> <li>Type Safety: Full type hints with mypy strict mode</li> <li>Testability: Design for easy unit testing with mocks</li> </ol> <p>For detailed architecture information, see spec/tool-avd-cli-architecture.md.</p>"},{"location":"development/contributing/#git-workflow","title":"\ud83d\udd00 Git Workflow","text":""},{"location":"development/contributing/#branching-strategy","title":"Branching Strategy","text":"<ul> <li><code>main</code> - Production-ready code</li> <li><code>feature/*</code> - New features</li> <li><code>fix/*</code> - Bug fixes</li> <li><code>docs/*</code> - Documentation updates</li> </ul>"},{"location":"development/contributing/#commit-message-convention","title":"Commit Message Convention","text":"<p>This project follows Conventional Commits:</p> <pre><code>type(scope): description\n\n[optional body]\n\n[optional footer]\n</code></pre> <p>Types: - <code>feat</code>: New feature - <code>fix</code>: Bug fix - <code>docs</code>: Documentation changes - <code>style</code>: Code style changes (formatting, etc.) - <code>refactor</code>: Code refactoring - <code>test</code>: Adding or updating tests - <code>chore</code>: Maintenance tasks</p> <p>Examples:</p> <pre><code>feat(generator): add support for custom hardware platforms\nfix(loader): handle missing group_vars directory gracefully\ndocs(readme): update installation instructions\ntest(loader): add tests for Jinja2 variable resolution\n</code></pre>"},{"location":"development/contributing/#pull-request-process","title":"\ud83d\udccb Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b feature/amazing-feature</code></li> <li>Write tests for your changes</li> <li>Ensure all tests pass: <code>make check</code></li> <li>Update documentation if needed</li> <li>Commit your changes: <code>git commit -m 'feat: add amazing feature'</code></li> <li>Push to the branch: <code>git push origin feature/amazing-feature</code></li> <li>Open a Pull Request</li> </ol>"},{"location":"development/contributing/#pr-checklist","title":"PR Checklist","text":"<ul> <li> All tests pass (<code>make test</code>)</li> <li> Code is formatted (<code>make format</code>)</li> <li> Linting passes with 10/10 score (<code>make lint</code>)</li> <li> Type checking passes (<code>make type</code>)</li> <li> Test coverage maintained &gt;80% (<code>make coverage</code>)</li> <li> Documentation updated</li> <li> Commit messages follow conventional commits</li> <li> CHANGELOG.md updated (for significant changes)</li> </ul>"},{"location":"development/contributing/#reporting-issues","title":"\ud83d\udc1b Reporting Issues","text":"<p>When reporting issues, please include:</p> <ol> <li>AVD CLI version: <code>avd-cli --version</code></li> <li>Python version: <code>python --version</code></li> <li>Operating system</li> <li>Steps to reproduce</li> <li>Expected behavior</li> <li>Actual behavior</li> <li>Error messages/logs (with <code>--verbose</code> flag)</li> <li>Minimal reproducible example (if possible)</li> </ol>"},{"location":"development/contributing/#feature-requests","title":"\ud83d\udca1 Feature Requests","text":"<p>Feature requests are welcome! Please:</p> <ol> <li>Check existing issues to avoid duplicates</li> <li>Clearly describe the use case</li> <li>Explain why this feature would be useful</li> <li>Provide examples if possible</li> </ol>"},{"location":"development/contributing/#documentation_1","title":"\ud83d\udcda Documentation","text":""},{"location":"development/contributing/#code-documentation","title":"Code Documentation","text":"<ul> <li>All modules must have module-level docstrings</li> <li>All public functions/classes must have docstrings</li> <li>Use NumPy-style docstrings for consistency</li> <li>Include examples in docstrings where helpful</li> </ul>"},{"location":"development/contributing/#project-documentation","title":"Project Documentation","text":"<p>Documentation is located in:</p> <ul> <li><code>README.md</code> - User-facing documentation</li> <li><code>docs/</code> - Detailed documentation and guides</li> <li><code>spec/</code> - Architecture and design specifications</li> </ul>"},{"location":"development/contributing/#code-of-conduct","title":"\ud83e\udd1d Code of Conduct","text":"<ul> <li>Be respectful and inclusive</li> <li>Welcome newcomers and help them get started</li> <li>Focus on constructive feedback</li> <li>Assume good intentions</li> </ul>"},{"location":"development/contributing/#license","title":"\ud83d\udcc4 License","text":"<p>By contributing, you agree that your contributions will be licensed under the Apache License 2.0.</p>"},{"location":"development/contributing/#questions","title":"\ud83d\ude4f Questions?","text":"<ul> <li>Open an issue for questions</li> <li>Check existing documentation</li> <li>Review the architecture specification</li> </ul> <p>Thank you for contributing to AVD CLI! \ud83c\udf89</p>"},{"location":"development/development-tools/","title":"Development tools","text":""},{"location":"development/development-tools/#development-tools-guide","title":"Development Tools Guide","text":"<p>This document describes the development tools available for the avd-cli project.</p>"},{"location":"development/development-tools/#package-management","title":"Package Management","text":"<p>The project uses UV as the primary package manager for speed and reliability.</p>"},{"location":"development/development-tools/#installation","title":"Installation","text":"<pre><code># Install dependencies\nuv sync\n\n# Install with development dependencies\nuv sync --extra dev\n</code></pre>"},{"location":"development/development-tools/#testing-tools","title":"Testing Tools","text":""},{"location":"development/development-tools/#make-recommended","title":"Make (Recommended)","text":"<p>The Makefile provides convenient shortcuts for all development tasks:</p> <pre><code># Display all available commands\nmake help\n\n# Quality checks\nmake lint        # Run linting (flake8, pylint)\nmake type        # Run type checking (mypy)\nmake format      # Format code (black, isort)\nmake check       # Run all checks\n\n# Testing\nmake test        # Run all tests\nmake test-unit   # Run unit tests only\nmake coverage    # Generate coverage report\n\n# Pre-commit\nmake pre-commit  # Run pre-commit hooks\nmake pre-commit-install  # Install pre-commit hooks\n</code></pre>"},{"location":"development/development-tools/#tox-alternative-multi-python-testing","title":"Tox (Alternative / Multi-Python Testing)","text":"<p>Tox provides backward compatibility and allows testing across multiple Python versions.</p>"},{"location":"development/development-tools/#available-environments","title":"Available Environments","text":"Environment Description Python Versions <code>lint</code> Run linting checks Current <code>type</code> Run type checking Current <code>test</code> Run all tests Current <code>py39</code> Run tests on Python 3.9 3.9 <code>py310</code> Run tests on Python 3.10 3.10 <code>py311</code> Run tests on Python 3.11 3.11 <code>py313</code> Run tests on Python 3.13 3.13 <code>coverage</code> Run tests with coverage Current <code>clean</code> Clean build artifacts N/A <code>format</code> Format code Current <code>format-check</code> Check code formatting Current <code>pre-commit</code> Run pre-commit hooks Current <code>check</code> Run all checks Current <code>ci-lint</code> CI linting Current <code>ci-type</code> CI type checking Current <code>ci-test</code> CI testing Current <code>ci-all</code> Run all CI checks Current"},{"location":"development/development-tools/#basic-usage","title":"Basic Usage","text":"<pre><code># List all available environments\nuv run tox list\n\n# Run specific environment\nuv run tox -e lint\nuv run tox -e type\nuv run tox -e test\n\n# Run tests on specific Python version\nuv run tox -e py39\nuv run tox -e py310\nuv run tox -e py311\nuv run tox -e py313\n\n# Run multiple environments\nuv run tox -e lint,type,test\n\n# Run all default environments\nuv run tox\n\n# Using Makefile shortcuts\nmake tox-list\nmake tox-lint\nmake tox-type\nmake tox-test\nmake tox-all\n</code></pre>"},{"location":"development/development-tools/#testing-multiple-python-versions","title":"Testing Multiple Python Versions","text":"<p>To test across all supported Python versions, you need to have them installed:</p> <pre><code># Using pyenv (recommended)\npyenv install 3.9.19\npyenv install 3.10.14\npyenv install 3.11.9\npyenv install 3.13.0\n\n# Set local Python versions\npyenv local 3.13.0 3.11.9 3.10.14 3.9.19\n\n# Run tests across all versions\nuv run tox -e py39,py310,py311,py313\n</code></pre>"},{"location":"development/development-tools/#cicd-environments","title":"CI/CD Environments","text":"<p>Special environments for CI/CD pipelines with stricter requirements:</p> <pre><code># CI linting (fails on warnings)\nuv run tox -e ci-lint\n\n# CI type checking (strict mode)\nuv run tox -e ci-type\n\n# CI testing (with coverage thresholds)\nuv run tox -e ci-test\n\n# Run all CI checks\nuv run tox -e ci-all\n</code></pre>"},{"location":"development/development-tools/#code-quality-tools","title":"Code Quality Tools","text":""},{"location":"development/development-tools/#linting","title":"Linting","text":"<p>flake8: Style guide enforcement </p><pre><code>uv run flake8 avd_cli tests\n</code></pre><p></p> <p>pylint: Code quality analysis </p><pre><code>uv run pylint avd_cli tests\n</code></pre><p></p>"},{"location":"development/development-tools/#type-checking","title":"Type Checking","text":"<p>mypy: Static type checking </p><pre><code>uv run mypy avd_cli\n</code></pre><p></p>"},{"location":"development/development-tools/#formatting","title":"Formatting","text":"<p>black: Code formatting </p><pre><code>uv run black avd_cli tests\n</code></pre><p></p> <p>isort: Import sorting </p><pre><code>uv run isort avd_cli tests\n</code></pre><p></p>"},{"location":"development/development-tools/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>The project uses pre-commit to run checks automatically before commits:</p> <pre><code># Install hooks\nmake pre-commit-install\n\n# Run manually\nmake pre-commit\n\n# Run on specific files\nuv run pre-commit run --files avd_cli/cli/main.py\n</code></pre>"},{"location":"development/development-tools/#testing","title":"Testing","text":""},{"location":"development/development-tools/#pytest","title":"Pytest","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run specific test file\nuv run pytest tests/unit/cli/test_main.py\n\n# Run tests with coverage\nuv run pytest --cov=avd_cli --cov-report=html\n\n# Run tests matching pattern\nuv run pytest -k \"test_generate\"\n\n# Run tests with specific markers\nuv run pytest -m unit\nuv run pytest -m integration\nuv run pytest -m e2e\n</code></pre>"},{"location":"development/development-tools/#choosing-between-make-and-tox","title":"Choosing Between Make and Tox","text":""},{"location":"development/development-tools/#use-make-when","title":"Use Make When:","text":"<ul> <li>\u2705 You want the fastest execution</li> <li>\u2705 You\u2019re doing local development</li> <li>\u2705 You trust your local Python environment</li> <li>\u2705 You want simple, direct commands</li> </ul>"},{"location":"development/development-tools/#use-tox-when","title":"Use Tox When:","text":"<ul> <li>\u2705 You need to test across multiple Python versions</li> <li>\u2705 You want isolated environments</li> <li>\u2705 You\u2019re preparing for CI/CD</li> <li>\u2705 You want backward compatibility with existing workflows</li> <li>\u2705 You need reproducible test environments</li> </ul>"},{"location":"development/development-tools/#workflow-recommendations","title":"Workflow Recommendations","text":""},{"location":"development/development-tools/#daily-development-workflow","title":"Daily Development Workflow","text":"<pre><code># 1. Pull latest changes\ngit pull\n\n# 2. Sync dependencies\nuv sync --extra dev\n\n# 3. Create feature branch\ngit checkout -b feature/my-feature\n\n# 4. Make changes and test frequently\nmake test        # Quick feedback\n\n# 5. Before committing\nmake format      # Auto-format\nmake check       # All checks\n\n# 6. Commit with conventional commits\ngit commit -m \"feat: add amazing feature\"\n\n# 7. Optional: Test across Python versions\nuv run tox -e py39,py310,py311,py313\n</code></pre>"},{"location":"development/development-tools/#before-creating-a-pr","title":"Before Creating a PR","text":"<pre><code># Full local CI simulation\nmake check\nuv run tox -e ci-all\n\n# Or using tox for multi-version testing\nuv run tox\n</code></pre>"},{"location":"development/development-tools/#debugging-test-failures","title":"Debugging Test Failures","text":"<pre><code># Run with verbose output\nuv run pytest -vv\n\n# Run with print statements visible\nuv run pytest -s\n\n# Run with debugger on failure\nuv run pytest --pdb\n\n# Run only failed tests from last run\nuv run pytest --lf\n</code></pre>"},{"location":"development/development-tools/#troubleshooting","title":"Troubleshooting","text":""},{"location":"development/development-tools/#tox-command-not-found","title":"\u201ctox command not found\u201d","text":"<pre><code># Reinstall dev dependencies\nuv sync --extra dev\n</code></pre>"},{"location":"development/development-tools/#virtual-environment-mismatch","title":"\u201cVirtual environment mismatch\u201d","text":"<p>This warning can be ignored - tox creates its own virtual environments: </p><pre><code>warning: `VIRTUAL_ENV=.tox/lint` does not match the project environment path `.venv`\n</code></pre><p></p>"},{"location":"development/development-tools/#tox-environments-are-slow","title":"Tox environments are slow","text":"<pre><code># Clean tox cache\nrm -rf .tox\n\n# Or just use make for faster execution\nmake lint\nmake type\nmake test\n</code></pre>"},{"location":"development/development-tools/#python-version-not-found","title":"Python version not found","text":"<pre><code># Install missing Python versions with pyenv\npyenv install 3.9.19\npyenv install 3.10.14\npyenv install 3.11.9\npyenv install 3.13.0\n\n# Set them as available\npyenv local 3.13.0 3.11.9 3.10.14 3.9.19\n</code></pre>"},{"location":"development/development-tools/#summary","title":"Summary","text":"<ul> <li>Make: Fast, direct, recommended for daily development</li> <li>Tox: Isolated, multi-version, recommended for pre-PR checks and CI/CD simulation</li> <li>UV: Fast package management, used by both Make and Tox</li> <li>Pre-commit: Automatic checks before commits</li> </ul> <p>Both Make and Tox delegate to the same underlying tools (UV + pytest + mypy + flake8 + pylint), so you get consistent results regardless of which you choose.</p>"},{"location":"development/testing/","title":"Testing","text":""},{"location":"development/testing/#testing","title":"Testing","text":"<p>AVD CLI uses pytest for comprehensive testing.</p>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":"<pre><code>uv run pytest tests/\n</code></pre> <p>See Testing Strategy.</p>"},{"location":"examples/advanced/","title":"Advanced","text":""},{"location":"examples/advanced/#advanced-features","title":"Advanced Features","text":"<p>See Basic Usage for advanced patterns.</p>"},{"location":"examples/basic/","title":"Basic","text":""},{"location":"examples/basic/#basic-example","title":"Basic Example","text":"<p>See the Quick Start for a complete basic example.</p>"},{"location":"examples/multi-fabric/","title":"Multi fabric","text":""},{"location":"examples/multi-fabric/#multi-fabric-example","title":"Multi-Fabric Example","text":"<p>Coming soon. See examples/atd-inventory for reference.</p>"},{"location":"getting-started/basic-usage/","title":"Basic Usage","text":""},{"location":"getting-started/basic-usage/#basic-usage","title":"Basic Usage","text":"<p>Learn the fundamentals of using AVD CLI effectively.</p>"},{"location":"getting-started/basic-usage/#command-structure","title":"Command Structure","text":"<p>AVD CLI follows a simple command structure:</p> <pre><code>avd-cli [GLOBAL_OPTIONS] COMMAND [COMMAND_OPTIONS]\n</code></pre>"},{"location":"getting-started/basic-usage/#global-options","title":"Global Options","text":"<pre><code>avd-cli --help      # Show help message\navd-cli --version   # Show version information\n</code></pre>"},{"location":"getting-started/basic-usage/#core-commands","title":"Core Commands","text":"<p>AVD CLI provides four main commands:</p> Command Purpose Common Use Case <code>generate</code> Generate configs, docs, or tests Main workflow command <code>info</code> Display inventory information Quick inventory overview <code>validate</code> Validate inventory structure Pre-flight checks"},{"location":"getting-started/basic-usage/#the-generate-command","title":"The <code>generate</code> Command","text":"<p>The most commonly used command for generating network configurations and documentation.</p>"},{"location":"getting-started/basic-usage/#subcommands","title":"Subcommands","text":"<pre><code>avd-cli generate all        # Generate everything (configs + docs + tests)\navd-cli generate configs    # Generate configurations only\navd-cli generate docs       # Generate documentation only\navd-cli generate tests      # Generate test files only\n</code></pre>"},{"location":"getting-started/basic-usage/#basic-example","title":"Basic Example","text":"<pre><code># Generate all outputs\navd-cli generate all \\\n  --inventory-path ./my-network \\\n  --output-path ./output\n\n# Short form using aliases\navd-cli generate all -i ./my-network -o ./output\n</code></pre>"},{"location":"getting-started/basic-usage/#common-options","title":"Common Options","text":"Option Short Description Default <code>--inventory-path</code> <code>-i</code> Path to AVD inventory Required <code>--output-path</code> <code>-o</code> Output directory Required <code>--workflow</code> Workflow type (<code>eos-design</code> or <code>cli-config</code>) <code>eos-design</code> <code>--limit-to-groups</code> <code>-l</code> Limit to specific device groups All groups <code>--show-deprecation-warnings</code> Show pyavd deprecation warnings <code>false</code>"},{"location":"getting-started/basic-usage/#examples","title":"Examples","text":"<pre><code># Generate with specific workflow\navd-cli generate all -i ./inventory -o ./output --workflow eos-design\n\n# Generate for specific groups only\navd-cli generate all -i ./inventory -o ./output -l SPINES -l LEAFS\n\n# Show deprecation warnings\navd-cli generate configs -i ./inventory -o ./output --show-deprecation-warnings\n</code></pre>"},{"location":"getting-started/basic-usage/#the-info-command","title":"The <code>info</code> Command","text":"<p>Display detailed information about your inventory.</p>"},{"location":"getting-started/basic-usage/#basic-usage_1","title":"Basic Usage","text":"<pre><code># Display inventory summary\navd-cli info --inventory-path ./my-network\n\n# Use JSON output format\navd-cli info -i ./my-network --format json\n\n# Use YAML output format\navd-cli info -i ./my-network --format yaml\n</code></pre>"},{"location":"getting-started/basic-usage/#output-formats","title":"Output Formats","text":"Table (Default)JSONYAML <pre><code>avd-cli info -i ./inventory\n</code></pre> <p>Displays a formatted table with device information, fabric details, and summary statistics.</p> <pre><code>avd-cli info -i ./inventory --format json\n</code></pre> <pre><code>{\n  \"fabrics\": [\n    {\n      \"name\": \"MY_FABRIC\",\n      \"design_type\": \"l3ls-evpn\",\n      \"devices\": [...]\n    }\n  ]\n}\n</code></pre> <pre><code>avd-cli info -i ./inventory --format yaml\n</code></pre> <pre><code>fabrics:\n  - name: MY_FABRIC\n    design_type: l3ls-evpn\n    devices: [...]\n</code></pre>"},{"location":"getting-started/basic-usage/#the-validate-command","title":"The <code>validate</code> Command","text":"<p>Validate your inventory structure before generation.</p>"},{"location":"getting-started/basic-usage/#basic-usage_2","title":"Basic Usage","text":"<pre><code># Validate inventory\navd-cli validate --inventory-path ./my-network\n\n# Verbose validation\navd-cli validate -i ./my-network --verbose\n</code></pre>"},{"location":"getting-started/basic-usage/#what-gets-validated","title":"What Gets Validated","text":"<ul> <li>\u2705 Inventory file existence and syntax</li> <li>\u2705 Required group_vars files</li> <li>\u2705 Fabric topology structure</li> <li>\u2705 Spine device presence (for eos-design workflow)</li> <li>\u2705 Variable hierarchy and inheritance</li> <li>\u2705 Jinja2 template syntax</li> </ul>"},{"location":"getting-started/basic-usage/#example-output","title":"Example Output","text":"<pre><code>\u2192 Validating inventory structure...\n\u2713 Inventory file found: inventory.yml\n\u2713 Group variables found: group_vars/FABRIC.yml\n\u2713 Fabric topology validated: MY_FABRIC\n\u2713 Found 2 spine devices\n\u2713 Found 2 leaf devices\n\n\u2713 Validation successful!\n</code></pre>"},{"location":"getting-started/basic-usage/#environment-variables","title":"Environment Variables","text":"<p>All CLI options can be set using environment variables with the <code>AVD_CLI_</code> prefix.</p>"},{"location":"getting-started/basic-usage/#setting-environment-variables","title":"Setting Environment Variables","text":"<pre><code># Set inventory and output paths\nexport AVD_CLI_INVENTORY_PATH=./my-network\nexport AVD_CLI_OUTPUT_PATH=./output\n\n# Set workflow\nexport AVD_CLI_WORKFLOW=eos-design\n\n# Set device groups\nexport AVD_CLI_LIMIT_TO_GROUPS=SPINES,LEAFS\n\n# Now run commands without repeating options\navd-cli generate all\navd-cli info\n</code></pre>"},{"location":"getting-started/basic-usage/#variable-reference","title":"Variable Reference","text":"CLI Option Environment Variable Example Value <code>-i, --inventory-path</code> <code>AVD_CLI_INVENTORY_PATH</code> <code>./inventory</code> <code>-o, --output-path</code> <code>AVD_CLI_OUTPUT_PATH</code> <code>./output</code> <code>--workflow</code> <code>AVD_CLI_WORKFLOW</code> <code>eos-design</code> <code>-l, --limit-to-groups</code> <code>AVD_CLI_LIMIT_TO_GROUPS</code> <code>SPINES,LEAFS</code> <code>--format</code> <code>AVD_CLI_FORMAT</code> <code>json</code> <code>--show-deprecation-warnings</code> <code>AVD_CLI_SHOW_DEPRECATION_WARNINGS</code> <code>true</code> <p>Priority Order</p> <p>CLI arguments &gt; Environment variables &gt; Default values</p>"},{"location":"getting-started/basic-usage/#output-directory-structure","title":"Output Directory Structure","text":"<p>When you run <code>generate all</code>, AVD CLI creates the following structure:</p> <pre><code>output/\n\u251c\u2500\u2500 configs/              # Device configurations (.cfg files)\n\u2502   \u251c\u2500\u2500 spine1.cfg\n\u2502   \u251c\u2500\u2500 spine2.cfg\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 documentation/        # Generated documentation\n\u2502   \u251c\u2500\u2500 devices/         # Per-device documentation\n\u2502   \u2502   \u251c\u2500\u2500 spine1.md\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 fabric/          # Fabric-wide documentation\n\u2502       \u2514\u2500\u2500 FABRIC-documentation.md\n\u2514\u2500\u2500 tests/               # Test files (ANTA or Robot)\n    \u2514\u2500\u2500 FABRIC-tests.yml\n</code></pre>"},{"location":"getting-started/basic-usage/#common-workflows","title":"Common Workflows","text":""},{"location":"getting-started/basic-usage/#development-workflow","title":"Development Workflow","text":"<pre><code># 1. Validate before generating\navd-cli validate -i ./inventory\n\n# 2. Generate configs to test\navd-cli generate configs -i ./inventory -o ./output\n\n# 3. If all looks good, generate everything\navd-cli generate all -i ./inventory -o ./output\n</code></pre>"},{"location":"getting-started/basic-usage/#cicd-workflow","title":"CI/CD Workflow","text":"<pre><code># Use environment variables in CI/CD\nexport AVD_CLI_INVENTORY_PATH=\"${CI_PROJECT_DIR}/inventory\"\nexport AVD_CLI_OUTPUT_PATH=\"${CI_PROJECT_DIR}/output\"\nexport AVD_CLI_WORKFLOW=eos-design\n\n# Validate\navd-cli validate\n\n# Generate\navd-cli generate all\n\n# Output files are now in ${CI_PROJECT_DIR}/output\n</code></pre>"},{"location":"getting-started/basic-usage/#incremental-updates","title":"Incremental Updates","text":"<pre><code># Only process spine devices\navd-cli generate configs -i ./inventory -o ./output -l SPINES\n\n# Only process a specific rack\navd-cli generate all -i ./inventory -o ./output -l RACK1\n</code></pre>"},{"location":"getting-started/basic-usage/#getting-help","title":"Getting Help","text":""},{"location":"getting-started/basic-usage/#command-specific-help","title":"Command-Specific Help","text":"<pre><code># General help\navd-cli --help\n\n# Command help\navd-cli generate --help\navd-cli generate configs --help\navd-cli info --help\navd-cli validate --help\n</code></pre>"},{"location":"getting-started/basic-usage/#verbose-output","title":"Verbose Output","text":"<p>Enable verbose output for debugging:</p> <pre><code>avd-cli validate -i ./inventory --verbose\navd-cli info -i ./inventory --verbose\n</code></pre>"},{"location":"getting-started/basic-usage/#next-steps","title":"Next Steps","text":"<p>Now that you understand the basics:</p> <ul> <li>Learn about Advanced Commands</li> <li>Understand Inventory Structure</li> <li>Explore Workflows</li> <li>See Real-World Examples</li> </ul> <p>Need Help?</p> <ul> <li>Check the FAQ</li> <li>Review detailed command documentation</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":"<p>This guide will help you install AVD CLI on your system.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing AVD CLI, ensure you have:</p> <ul> <li>Python 3.9 or higher installed on your system</li> <li>pip or pipx for package installation</li> <li>Basic familiarity with command-line tools</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#method-1-using-pipx-recommended","title":"Method 1: Using pipx (Recommended)","text":"<p>pipx installs packages in isolated environments, preventing dependency conflicts.</p> <pre><code># Install pipx if not already installed\npython3 -m pip install --user pipx\npython3 -m pipx ensurepath\n\n# Install avd-cli\npipx install git+https://github.com/titom73/avd-cli.git\n</code></pre> <p>Why pipx?</p> <p>pipx creates an isolated environment for each application, avoiding conflicts with other Python packages on your system.</p>"},{"location":"getting-started/installation/#method-2-using-pip","title":"Method 2: Using pip","text":"<pre><code># Install from GitHub\npip install git+https://github.com/titom73/avd-cli.git\n\n# Or install in a virtual environment (recommended)\npython3 -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install git+https://github.com/titom73/avd-cli.git\n</code></pre>"},{"location":"getting-started/installation/#method-3-from-source-development","title":"Method 3: From Source (Development)","text":"<p>For contributors or users who want the latest development version:</p> <pre><code># Clone the repository\ngit clone https://github.com/titom73/avd-cli.git\ncd avd-cli\n\n# Install with UV (recommended for development)\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nuv sync --all-extras\n\n# Or with pip\npip install -e .\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>After installation, verify that AVD CLI is working:</p> <pre><code># Check version\navd-cli --version\n\n# Display help\navd-cli --help\n</code></pre> <p>Expected output:</p> <pre><code>Usage: avd-cli [OPTIONS] COMMAND [ARGS]...\n\n  AVD CLI - A powerful tool for processing Arista AVD inventories\n\nOptions:\n  --version   Show the version and exit.\n  --help      Show this message and exit.\n\nCommands:\n  generate  Generate configurations, documentation, or tests\n  info      Display inventory information\n  validate  Validate inventory structure\n</code></pre>"},{"location":"getting-started/installation/#upgrading","title":"Upgrading","text":""},{"location":"getting-started/installation/#with-pipx","title":"With pipx","text":"<pre><code>pipx upgrade avd-cli\n</code></pre>"},{"location":"getting-started/installation/#with-pip","title":"With pip","text":"<pre><code>pip install --upgrade git+https://github.com/titom73/avd-cli.git\n</code></pre>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":""},{"location":"getting-started/installation/#with-pipx_1","title":"With pipx","text":"<pre><code>pipx uninstall avd-cli\n</code></pre>"},{"location":"getting-started/installation/#with-pip_1","title":"With pip","text":"<pre><code>pip uninstall avd-cli\n</code></pre>"},{"location":"getting-started/installation/#dependencies","title":"Dependencies","text":"<p>AVD CLI automatically installs the following core dependencies:</p> <ul> <li>Click (\u22658.1.0) - CLI framework</li> <li>Rich (\u226513.0.0) - Terminal output formatting</li> <li>PyYAML (\u22656.0) - YAML parsing</li> <li>Jinja2 (\u22653.0.0) - Template engine</li> <li>pyavd (\u22654.0.0) - Arista AVD library</li> </ul>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that AVD CLI is installed, you can:</p> <ul> <li>Follow the Quick Start Guide to generate your first configuration</li> <li>Learn about Basic Usage</li> <li>Explore the User Guide for detailed command information</li> </ul>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found","title":"Command not found","text":"<p>If you get a <code>command not found</code> error after installation:</p> <ol> <li> <p>With pipx: Ensure pipx\u2019s bin directory is in your PATH:    </p><pre><code>python3 -m pipx ensurepath\n# Then restart your terminal\n</code></pre><p></p> </li> <li> <p>With pip: If installed with <code>--user</code>, ensure your user\u2019s bin directory is in PATH:    </p><pre><code>export PATH=\"$HOME/.local/bin:$PATH\"\n# Add this to your ~/.bashrc or ~/.zshrc for persistence\n</code></pre><p></p> </li> </ol>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<p>If you encounter permission errors:</p> <pre><code># Use --user flag with pip\npip install --user git+https://github.com/titom73/avd-cli.git\n\n# Or use a virtual environment\npython3 -m venv venv\nsource venv/bin/activate\npip install git+https://github.com/titom73/avd-cli.git\n</code></pre>"},{"location":"getting-started/installation/#python-version-issues","title":"Python Version Issues","text":"<p>Ensure you\u2019re using Python 3.9 or higher:</p> <pre><code>python3 --version\n</code></pre> <p>If your default Python is older, you may need to install a newer version or use <code>python3.9</code>, <code>python3.10</code>, etc. explicitly.</p> <p>Need Help?</p> <p>If you encounter issues during installation, please:</p> <ul> <li>Check the FAQ for common questions</li> <li>Open an issue on GitHub</li> <li>Consult the Contributing Guide for development setup</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#quick-start","title":"Quick Start","text":"<p>Get up and running with AVD CLI in minutes! This guide will walk you through generating your first network configuration.</p>"},{"location":"getting-started/quickstart/#overview","title":"Overview","text":"<p>In this quick start, you\u2019ll:</p> <ol> <li>Set up a basic AVD inventory</li> <li>Generate configurations</li> <li>View generated outputs</li> </ol> <p>Estimated time: 5-10 minutes</p>"},{"location":"getting-started/quickstart/#step-1-prepare-your-inventory","title":"Step 1: Prepare Your Inventory","text":"<p>AVD CLI works with standard Ansible inventory structures. For this quick start, we\u2019ll use a minimal example.</p> <p>Create a directory structure:</p> <pre><code>mkdir -p my-network/group_vars\ncd my-network\n</code></pre>"},{"location":"getting-started/quickstart/#create-inventoryyml","title":"Create <code>inventory.yml</code>","text":"<pre><code># my-network/inventory.yml\nall:\n  children:\n    FABRIC:\n      children:\n        SPINES:\n          hosts:\n            spine1:\n            spine2:\n        LEAFS:\n          hosts:\n            leaf1:\n            leaf2:\n</code></pre>"},{"location":"getting-started/quickstart/#create-group_varsfabricyml","title":"Create <code>group_vars/FABRIC.yml</code>","text":"<pre><code># my-network/group_vars/FABRIC.yml\n---\nfabric_name: MY_FABRIC\n\ndesign:\n  type: l3ls-evpn\n\nmgmt_gateway: 192.168.0.1\nmgmt_interface_vrf: default\n\n# Spine configuration\nspine:\n  defaults:\n    platform: vEOS-lab\n    loopback_ipv4_pool: 192.168.255.0/24\n    bgp_as: 65001\n  nodes:\n    - name: spine1\n      id: 1\n      mgmt_ip: 192.168.0.10/24\n    - name: spine2\n      id: 2\n      mgmt_ip: 192.168.0.11/24\n\n# Leaf configuration\nl3leaf:\n  defaults:\n    platform: vEOS-lab\n    loopback_ipv4_pool: 192.168.254.0/24\n    vtep_loopback_ipv4_pool: 192.168.253.0/24\n    uplink_interfaces: [Ethernet1, Ethernet2]\n    uplink_switches: [spine1, spine2]\n    uplink_ipv4_pool: 172.31.255.0/24\n    mlag_interfaces: [Ethernet3, Ethernet4]\n    mlag_peer_ipv4_pool: 10.255.252.0/24\n    mlag_peer_l3_ipv4_pool: 10.255.251.0/24\n    spanning_tree_mode: mstp\n    spanning_tree_priority: 4096\n  node_groups:\n    - group: RACK1\n      bgp_as: 65100\n      nodes:\n        - name: leaf1\n          id: 1\n          mgmt_ip: 192.168.0.12/24\n          uplink_switch_interfaces: [Ethernet1, Ethernet1]\n        - name: leaf2\n          id: 2\n          mgmt_ip: 192.168.0.13/24\n          uplink_switch_interfaces: [Ethernet2, Ethernet2]\n</code></pre>"},{"location":"getting-started/quickstart/#step-2-generate-configurations","title":"Step 2: Generate Configurations","text":"<p>Now generate the configurations using AVD CLI:</p> <pre><code>avd-cli generate all \\\n  --inventory-path . \\\n  --output-path output \\\n  --workflow eos-design\n</code></pre> <p>Using Environment Variables</p> <p>You can also set environment variables to avoid repeating options: </p><pre><code>export AVD_CLI_INVENTORY_PATH=.\nexport AVD_CLI_OUTPUT_PATH=output\nexport AVD_CLI_WORKFLOW=eos-design\n\navd-cli generate all\n</code></pre><p></p>"},{"location":"getting-started/quickstart/#expected-output","title":"Expected Output","text":"<pre><code>\u2192 Loading inventory...\n\u2713 Loaded 4 devices\n\u2192 Generating configurations, documentation, and tests...\n\u2192 Processing fabric: MY_FABRIC\n  \u2192 Generating AVD facts...\n  \u2192 Generating structured configs...\n  \u2192 Generating device configurations...\n  \u2192 Generating documentation...\n\n\u2713 Generation complete!\n                      Generated Files\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Category       \u2503 Count \u2503 Output Path                 \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Configurations \u2502     4 \u2502 output/configs              \u2502\n\u2502 Documentation  \u2502     4 \u2502 output/documentation        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/quickstart/#step-3-explore-generated-files","title":"Step 3: Explore Generated Files","text":"<p>Check the output directory:</p> <pre><code>tree output/\n</code></pre> <pre><code>output/\n\u251c\u2500\u2500 configs/\n\u2502   \u251c\u2500\u2500 leaf1.cfg\n\u2502   \u251c\u2500\u2500 leaf2.cfg\n\u2502   \u251c\u2500\u2500 spine1.cfg\n\u2502   \u2514\u2500\u2500 spine2.cfg\n\u2514\u2500\u2500 documentation/\n    \u251c\u2500\u2500 devices/\n    \u2502   \u251c\u2500\u2500 leaf1.md\n    \u2502   \u251c\u2500\u2500 leaf2.md\n    \u2502   \u251c\u2500\u2500 spine1.md\n    \u2502   \u2514\u2500\u2500 spine2.md\n    \u2514\u2500\u2500 fabric/\n        \u2514\u2500\u2500 MY_FABRIC-documentation.md\n</code></pre>"},{"location":"getting-started/quickstart/#view-a-configuration","title":"View a Configuration","text":"<pre><code>cat output/configs/spine1.cfg\n</code></pre> <p>You\u2019ll see a complete EOS configuration with:</p> <ul> <li>Management interface configuration</li> <li>BGP underlay configuration</li> <li>EVPN overlay configuration</li> <li>And more!</li> </ul>"},{"location":"getting-started/quickstart/#step-4-view-inventory-information","title":"Step 4: View Inventory Information","text":"<p>Get detailed information about your inventory:</p> <pre><code>avd-cli info --inventory-path .\n</code></pre> <p>Output:</p> <pre><code>\u2192 Loading inventory...\n\u2713 Loaded 4 devices\n\n           Inventory Summary\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Metric                  \u2503 Value     \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Total Devices           \u2502 4         \u2502\n\u2502 Total Fabrics           \u2502 1         \u2502\n\u2502 Fabric: MY_FABRIC       \u2502           \u2502\n\u2502   - Design Type         \u2502 l3ls-evpn \u2502\n\u2502   - Spine Devices       \u2502 2         \u2502\n\u2502   - Leaf Devices        \u2502 2         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                        Devices\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Hostname \u2503 Type  \u2503 Platform  \u2503 Management IP \u2503 Fabric    \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 spine1   \u2502 spine \u2502 vEOS-lab  \u2502 192.168.0.10  \u2502 MY_FABRIC \u2502\n\u2502 spine2   \u2502 spine \u2502 vEOS-lab  \u2502 192.168.0.11  \u2502 MY_FABRIC \u2502\n\u2502 leaf1    \u2502 leaf  \u2502 vEOS-lab  \u2502 192.168.0.12  \u2502 MY_FABRIC \u2502\n\u2502 leaf2    \u2502 leaf  \u2502 vEOS-lab  \u2502 192.168.0.13  \u2502 MY_FABRIC \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<p>Congratulations! You\u2019ve successfully generated your first network configuration with AVD CLI. \ud83c\udf89</p>"},{"location":"getting-started/quickstart/#learn-more","title":"Learn More","text":"<ul> <li>Basic Usage - Learn about all available commands</li> <li>User Guide - Comprehensive command reference</li> <li>Inventory Structure - Deep dive into inventory organization</li> <li>Examples - More complex examples</li> </ul>"},{"location":"getting-started/quickstart/#customize-your-network","title":"Customize Your Network","text":"<p>Now you can customize your network by:</p> <ol> <li>Adding more devices to your inventory</li> <li>Configuring VLANs, SVIs, and network services</li> <li>Defining port channels and MLAG</li> <li>Setting up tenant networks</li> <li>Configuring network services (VXLAN, EVPN, etc.)</li> </ol> <p>Refer to the Arista AVD documentation for detailed configuration options.</p>"},{"location":"getting-started/quickstart/#common-next-commands","title":"Common Next Commands","text":"<pre><code># Generate only configurations\navd-cli generate configs -i . -o output\n\n# Generate only documentation\navd-cli generate docs -i . -o output\n\n# Validate inventory before generating\navd-cli validate -i .\n\n# Use different workflow (for existing structured configs)\navd-cli generate all -i . -o output --workflow cli-config\n</code></pre> <p>Questions?</p> <ul> <li>Check the FAQ for common questions</li> <li>Join the Arista AVD community</li> <li>Open an issue on GitHub</li> </ul>"},{"location":"user-guide/configuration/","title":"Configuration","text":""},{"location":"user-guide/configuration/#configuration","title":"Configuration","text":"<p>AVD CLI configuration is primarily done through:</p> <ol> <li>Command-line options</li> <li>Environment variables</li> <li>Inventory structure</li> </ol> <p>See User Guide for complete details.</p>"},{"location":"user-guide/environment-variables/","title":"Environment Variables","text":""},{"location":"user-guide/environment-variables/#environment-variables","title":"Environment Variables","text":"<p>All AVD CLI options support environment variables with the <code>AVD_CLI_</code> prefix.</p>"},{"location":"user-guide/environment-variables/#complete-reference","title":"Complete Reference","text":"CLI Option Environment Variable Type Example <code>-i, --inventory-path</code> <code>AVD_CLI_INVENTORY_PATH</code> Path <code>./inventory</code> <code>-o, --output-path</code> <code>AVD_CLI_OUTPUT_PATH</code> Path <code>./output</code> <code>-l, --limit-to-groups</code> <code>AVD_CLI_LIMIT_TO_GROUPS</code> Comma-separated <code>SPINES,LEAFS</code> <code>--workflow</code> <code>AVD_CLI_WORKFLOW</code> Choice <code>eos-design</code> or <code>cli-config</code> <code>--format</code> <code>AVD_CLI_FORMAT</code> Choice <code>table</code>, <code>json</code>, <code>yaml</code> <p>See Basic Usage for examples.</p>"},{"location":"user-guide/inventory-structure/","title":"Inventory Structure","text":""},{"location":"user-guide/inventory-structure/#inventory-structure","title":"Inventory Structure","text":"<p>Learn how to organize your AVD inventory for optimal workflow with AVD CLI.</p>"},{"location":"user-guide/inventory-structure/#standard-structure","title":"Standard Structure","text":"<p>AVD CLI supports standard Ansible inventory structures with AVD group_vars and host_vars:</p> <pre><code>inventory/\n\u251c\u2500\u2500 inventory.yml           # Main inventory file (hosts and groups)\n\u251c\u2500\u2500 group_vars/            # Group-level variables\n\u2502   \u251c\u2500\u2500 all.yml           # Global variables (inherited by all devices)\n\u2502   \u251c\u2500\u2500 all/              # Alternative: directory for multiple files\n\u2502   \u2502   \u2514\u2500\u2500 common.yml\n\u2502   \u251c\u2500\u2500 FABRIC.yml        # Fabric-level variables\n\u2502   \u251c\u2500\u2500 SPINES.yml        # Spine-specific variables\n\u2502   \u251c\u2500\u2500 LEAFS.yml         # Leaf-specific variables\n\u2502   \u2514\u2500\u2500 campus_leaves/    # Group directory with multiple files\n\u2502       \u251c\u2500\u2500 interfaces.yml\n\u2502       \u251c\u2500\u2500 dot1x.yml\n\u2502       \u2514\u2500\u2500 leaf.yml\n\u2514\u2500\u2500 host_vars/             # Host-level variables (optional)\n    \u251c\u2500\u2500 spine1.yml        # Individual host configuration\n    \u2514\u2500\u2500 leaf1.yml\n</code></pre>"},{"location":"user-guide/inventory-structure/#inventory-file-structure","title":"Inventory File Structure","text":"<p>The main <code>inventory.yml</code> file defines the hierarchy of devices and groups:</p>"},{"location":"user-guide/inventory-structure/#eos-design-workflow-example","title":"EOS Design Workflow Example","text":"<pre><code>---\nall:\n  children:\n    cv_servers:           # CloudVision servers (optional)\n      hosts:\n        cv_atd1:\n          ansible_host: 192.168.0.5\n          cv_collection: v3\n    ATD_LAB:              # Main lab group\n      children:\n        ATD_FABRIC:       # Fabric group containing spines and leafs\n          children:\n            ATD_SPINES:   # Spine switches group\n              vars:\n                type: spine\n              hosts:\n                s1-spine1:\n                  ansible_host: 192.168.0.10\n                s1-spine2:\n                  ansible_host: 192.168.0.11\n            ATD_LEAFS:    # Leaf switches group\n              vars:\n                type: l3leaf\n              children:\n                pod1:     # Leaf sub-groups for MLAG pairs\n                  hosts:\n                    s1-leaf1:\n                      ansible_host: 192.168.0.12\n                    s1-leaf2:\n                      ansible_host: 192.168.0.13\n                pod2:\n                  hosts:\n                    s1-leaf3:\n                      ansible_host: 192.168.0.14\n                    s1-leaf4:\n                      ansible_host: 192.168.0.15\n        ATD_TENANTS_NETWORKS: # Tenant configuration group\n          children:\n            ATD_LEAFS:\n        ATD_SERVERS:         # Server configuration group\n          children:\n            ATD_LEAFS:\n  vars:\n    # Global Ansible connection parameters\n    ansible_user: arista\n    ansible_password: arista123!\n    ansible_network_os: arista.eos.eos\n    ansible_connection: httpapi\n    ansible_httpapi_use_ssl: true\n    ansible_httpapi_validate_certs: false\n    ansible_python_interpreter: $(which python3)\n</code></pre>"},{"location":"user-guide/inventory-structure/#cli-config-gen-workflow-example","title":"CLI Config Gen Workflow Example","text":"<p>For configuration-only generation without topology design:</p> <pre><code>---\nall:\n  hosts:\n    spine1:\n      ansible_host: 192.168.73.11\n    spine2:\n      ansible_host: 192.168.73.12\n    leaf1:\n      ansible_host: 192.168.73.13\n    leaf2:\n      ansible_host: 192.168.73.14\n  vars:\n    ansible_user: admin\n    ansible_connection: httpapi\n    ansible_network_os: arista.eos.eos\n    ansible_httpapi_use_ssl: true\n    ansible_httpapi_validate_certs: false\n</code></pre>"},{"location":"user-guide/inventory-structure/#variable-inheritance-hierarchy","title":"Variable Inheritance Hierarchy","text":"<p>Variables are inherited in this specific order (last wins):</p> <ol> <li><code>group_vars/all.yml</code> - Global defaults for all devices</li> <li>Parent group variables - Higher-level groups (e.g., <code>ATD_LAB.yml</code>)</li> <li>Fabric group variables - Fabric-specific settings (e.g., <code>ATD_FABRIC.yml</code>)</li> <li>Device type groups - Role-specific variables (e.g., <code>ATD_SPINES.yml</code>, <code>ATD_LEAFS.yml</code>)</li> <li>Sub-group variables - Pod or rack-specific settings (e.g., <code>pod1.yml</code>)</li> <li>Host-specific variables - Individual device overrides from <code>host_vars/</code></li> </ol>"},{"location":"user-guide/inventory-structure/#example-inheritance-flow","title":"Example Inheritance Flow","text":"<p>For device <code>s1-leaf1</code> in the hierarchy above: </p><pre><code>all.yml \u2192 ATD_LAB.yml \u2192 ATD_FABRIC.yml \u2192 ATD_LEAFS.yml \u2192 pod1.yml \u2192 host_vars/s1-leaf1.yml\n</code></pre><p></p>"},{"location":"user-guide/inventory-structure/#group-variable-organization","title":"Group Variable Organization","text":""},{"location":"user-guide/inventory-structure/#single-file-per-group","title":"Single File per Group","text":"<pre><code>group_vars/\n\u251c\u2500\u2500 all.yml              # Global settings\n\u251c\u2500\u2500 ATD_FABRIC.yml       # Fabric topology and BGP settings\n\u251c\u2500\u2500 ATD_SPINES.yml       # Spine-specific configuration\n\u2514\u2500\u2500 ATD_LEAFS.yml        # Leaf-specific configuration\n</code></pre>"},{"location":"user-guide/inventory-structure/#directory-structure-per-group","title":"Directory Structure per Group","text":"<pre><code>group_vars/\n\u251c\u2500\u2500 all/\n\u2502   \u251c\u2500\u2500 common.yml       # Base settings\n\u2502   \u2514\u2500\u2500 credentials.yml  # Authentication settings\n\u251c\u2500\u2500 campus_leaves/\n\u2502   \u251c\u2500\u2500 interfaces.yml   # Interface profiles and network ports\n\u2502   \u251c\u2500\u2500 dot1x.yml       # 802.1X authentication settings\n\u2502   \u2514\u2500\u2500 leaf.yml        # Leaf-specific topology\n\u2514\u2500\u2500 campus_spines/\n    \u2514\u2500\u2500 spines.yml       # Spine configuration\n</code></pre>"},{"location":"user-guide/inventory-structure/#jinja2-template-support","title":"Jinja2 Template Support","text":"<p>AVD CLI supports Jinja2 templating in all variable files, enabling dynamic configuration based on conditions and variables.</p>"},{"location":"user-guide/inventory-structure/#basic-jinja2-examples","title":"Basic Jinja2 Examples","text":""},{"location":"user-guide/inventory-structure/#conditional-values","title":"Conditional Values","text":"<pre><code># Platform-dependent MTU settings\ndefault_interface_mtu: \"{% if lab_type == 'act' %}1500{% else %}{{poc_platform_mtu}}{% endif %}\"\nmlag_peer_link_mtu: \"{% if lab_type == 'act' %}1500{% else %}9214{% endif %}\"\n\n# Environment-based VRFs\nmgmt_interface_vrf: \"{{default_poc_management_vrf}}\"\ndefault_poc_syslog_vrf: \"{{ default_poc_management_vrf }}\"\n</code></pre>"},{"location":"user-guide/inventory-structure/#variable-references","title":"Variable References","text":"<pre><code># Reference other variables\ndefault_poc_management_vrf: MGMT\ndefault_poc_syslog_server: \"192.168.0.201\"\ndefault_poc_sflow_vrf: \"{{ default_poc_management_vrf }}\"\ndefault_poc_radius_vrf: \"{{ default_poc_management_vrf }}\"\n</code></pre>"},{"location":"user-guide/inventory-structure/#complex-logic","title":"Complex Logic","text":"<pre><code># Feature flags with conditions\nlab_type: \"act\"\nhas_poe: False\nhas_storm_control: False\n\n# Dynamic platform settings\npoc_platform_mtu: 1500\nplatform_settings:\n  mtu: \"{% if lab_type == 'act' %}1500{% else %}{{poc_platform_mtu}}{% endif %}\"\n  features:\n    poe: \"{{ has_poe }}\"\n    storm_control: \"{{ has_storm_control }}\"\n</code></pre>"},{"location":"user-guide/inventory-structure/#advanced-jinja2-usage","title":"Advanced Jinja2 Usage","text":""},{"location":"user-guide/inventory-structure/#switch-specific-configuration","title":"Switch-Specific Configuration","text":"<pre><code>network_ports:\n  - switches:\n      - \"leaf-1a\"\n      - \"leaf-1b\"\n      - \"leaf-2a\"\n    switch_ports:\n      - Ethernet10-15\n    description: 802.1x Standard Port - EAPoL with Multi Host\n    profile: PP-DOT1X\n    native_vlan: 666\n    structured_config:\n      switchport:\n        phone:\n          trunk: untagged\n          vlan: 667\n\n  - platforms:           # Platform-based selection\n      - '720XP'\n    switch_ports:\n      - Ethernet1-10\n    description: 802.1x Standard Port - EAPoL with Multi Host\n    profile: PP-DOT1X\n    native_vlan: 666\n</code></pre>"},{"location":"user-guide/inventory-structure/#custom-structured-configuration","title":"Custom Structured Configuration","text":"<pre><code># Prefix for custom configuration sections\ncustom_structured_configuration_prefix:\n  - \"custom_inband_\"\n  - \"custom_structured_\"\n\n# Dynamic fabric tags\ndefault_cv_tags_campus: CAMPUS_AVD\ncv_tags:\n  - \"{{ default_cv_tags_campus }}\"\n  - \"FABRIC_{{ fabric_name | upper }}\"\n</code></pre>"},{"location":"user-guide/inventory-structure/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/inventory-structure/#1-group-organization","title":"1. Group Organization","text":"<ul> <li>Use hierarchical groups that reflect your network topology</li> <li>Separate fabric configuration from tenant/service configuration</li> <li>Group devices by role (spine, leaf, border-leaf, etc.)</li> </ul>"},{"location":"user-guide/inventory-structure/#2-variable-structure","title":"2. Variable Structure","text":"<ul> <li>Keep global settings in <code>group_vars/all.yml</code></li> <li>Use fabric-specific files for topology and underlay settings</li> <li>Separate tenant/service configuration into dedicated groups</li> </ul>"},{"location":"user-guide/inventory-structure/#3-jinja2-usage","title":"3. Jinja2 Usage","text":"<ul> <li>Use Jinja2 for environment-specific values (lab vs production)</li> <li>Reference variables to avoid duplication</li> <li>Keep complex logic in dedicated variable files</li> </ul>"},{"location":"user-guide/inventory-structure/#4-file-organization","title":"4. File Organization","text":"<ul> <li>Use single files for simple groups</li> <li>Use directories for complex groups with multiple configuration aspects</li> <li>Name files descriptively (e.g., <code>interfaces.yml</code>, <code>routing.yml</code>)</li> </ul>"},{"location":"user-guide/inventory-structure/#5-host-variables","title":"5. Host Variables","text":"<ul> <li>Use <code>host_vars/</code> sparingly for device-specific overrides</li> <li>Prefer group variables for consistent configuration</li> <li>Document any host-specific exceptions</li> </ul>"},{"location":"user-guide/inventory-structure/#validation","title":"Validation","text":"<p>AVD CLI automatically validates your inventory structure:</p> <pre><code># Validate inventory structure\navd-cli info --inventory ./inventory\n\n# Check variable inheritance\navd-cli info --inventory ./inventory --format yaml\n</code></pre> <p>See the complete User Guide for more commands and options.</p>"},{"location":"user-guide/workflows/","title":"Workflows","text":""},{"location":"user-guide/workflows/#workflows","title":"Workflows","text":"<p>AVD CLI supports two main workflows.</p>"},{"location":"user-guide/workflows/#eos-design","title":"eos-design","text":"<p>Full AVD pipeline with topology design and validation.</p>"},{"location":"user-guide/workflows/#cli-config","title":"cli-config","text":"<p>Direct configuration generation from existing structured configs.</p> <p>See generate command for details.</p>"},{"location":"user-guide/commands/generate/","title":"generate","text":""},{"location":"user-guide/commands/generate/#generate-command","title":"generate Command","text":"<p>Generate network configurations, documentation, and ANTA tests from your AVD inventory.</p>"},{"location":"user-guide/commands/generate/#synopsis","title":"Synopsis","text":"<pre><code>avd-cli generate SUBCOMMAND [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/generate/#subcommands","title":"Subcommands","text":"Subcommand Description <code>all</code> Generate configurations, documentation, and tests <code>configs</code> Generate device configurations only <code>docs</code> Generate documentation only <code>tests</code> Generate ANTA test files only"},{"location":"user-guide/commands/generate/#common-options","title":"Common Options","text":"<p>These options apply to all <code>generate</code> subcommands:</p> Option Short Type Default Description <code>--inventory-path</code> <code>-i</code> Path Required Path to AVD inventory directory <code>--output-path</code> <code>-o</code> Path Required Output directory for generated files <code>--limit-to-groups</code> <code>-l</code> Text All Limit processing to specific groups (repeatable) <code>--workflow</code> Choice <code>eos-design</code> Workflow type: <code>eos-design</code> or <code>cli-config</code> <code>--show-deprecation-warnings</code> Flag <code>false</code> Show pyavd deprecation warnings"},{"location":"user-guide/commands/generate/#generate-all","title":"generate all","text":"<p>Generate all outputs: configurations, documentation, and tests.</p>"},{"location":"user-guide/commands/generate/#usage","title":"Usage","text":"<pre><code>avd-cli generate all -i INVENTORY_PATH -o OUTPUT_PATH [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/generate/#examples","title":"Examples","text":"<pre><code># Basic usage\navd-cli generate all -i ./inventory -o ./output\n\n# With specific workflow\navd-cli generate all -i ./inventory -o ./output --workflow eos-design\n\n# Limit to specific groups\navd-cli generate all -i ./inventory -o ./output -l SPINES -l LEAFS\n\n# Show deprecation warnings\navd-cli generate all -i ./inventory -o ./output --show-deprecation-warnings\n</code></pre>"},{"location":"user-guide/commands/generate/#output-structure","title":"Output Structure","text":"<pre><code>output/\n\u251c\u2500\u2500 configs/\n\u2502   \u2514\u2500\u2500 *.cfg\n\u251c\u2500\u2500 documentation/\n\u2502   \u251c\u2500\u2500 devices/\n\u2502   \u2502   \u2514\u2500\u2500 *.md\n\u2502   \u2514\u2500\u2500 fabric/\n\u2502       \u2514\u2500\u2500 *-documentation.md\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 *-tests.yml\n</code></pre>"},{"location":"user-guide/commands/generate/#generate-configs","title":"generate configs","text":"<p>Generate device configurations only.</p>"},{"location":"user-guide/commands/generate/#usage_1","title":"Usage","text":"<pre><code>avd-cli generate configs -i INVENTORY_PATH -o OUTPUT_PATH [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/generate/#examples_1","title":"Examples","text":"<pre><code># Generate all device configurations\navd-cli generate configs -i ./inventory -o ./output\n\n# Generate configs for spines only\navd-cli generate configs -i ./inventory -o ./output -l SPINES\n\n# Use cli-config workflow (skip eos_design role)\navd-cli generate configs -i ./inventory -o ./output --workflow cli-config\n</code></pre>"},{"location":"user-guide/commands/generate/#workflows","title":"Workflows","text":"eos-designcli-config <p>Full AVD pipeline with topology design and validation: </p><pre><code>avd-cli generate configs -i ./inventory -o ./output --workflow eos-design\n</code></pre><p></p> <ul> <li>Runs <code>eos_design</code> role to generate structured configs</li> <li>Validates topology structure</li> <li>Generates device configurations</li> </ul> <p>Direct configuration generation from existing structured configs: </p><pre><code>avd-cli generate configs -i ./inventory -o ./output --workflow cli-config\n</code></pre><p></p> <ul> <li>Skips <code>eos_design</code> role</li> <li>Uses existing structured configs from <code>host_vars/</code></li> <li>Faster for iterative testing</li> </ul>"},{"location":"user-guide/commands/generate/#generate-docs","title":"generate docs","text":"<p>Generate network documentation only.</p>"},{"location":"user-guide/commands/generate/#usage_2","title":"Usage","text":"<pre><code>avd-cli generate docs -i INVENTORY_PATH -o OUTPUT_PATH [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/generate/#examples_2","title":"Examples","text":"<pre><code># Generate all documentation\navd-cli generate docs -i ./inventory -o ./output\n\n# Generate docs for specific devices\navd-cli generate docs -i ./inventory -o ./output -l RACK1\n</code></pre>"},{"location":"user-guide/commands/generate/#generated-documentation","title":"Generated Documentation","text":"<ul> <li>Per-device documentation: Detailed device configuration documentation</li> <li>Fabric documentation: Fabric-wide topology and design documentation</li> </ul>"},{"location":"user-guide/commands/generate/#generate-tests","title":"generate tests","text":"<p>Generate ANTA test files.</p>"},{"location":"user-guide/commands/generate/#usage_3","title":"Usage","text":"<pre><code>avd-cli generate tests -i INVENTORY_PATH -o OUTPUT_PATH [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/generate/#options","title":"Options","text":"Option Short Type Default Description <code>--test-type</code> Choice <code>anta</code> Test framework: <code>anta</code> or <code>robot</code>"},{"location":"user-guide/commands/generate/#examples_3","title":"Examples","text":"<pre><code># Generate ANTA tests\navd-cli generate tests -i ./inventory -o ./output\n\n# Generate Robot Framework tests\navd-cli generate tests -i ./inventory -o ./output --test-type robot\n</code></pre>"},{"location":"user-guide/commands/generate/#environment-variables","title":"Environment Variables","text":"<p>All options support environment variables with the <code>AVD_CLI_</code> prefix:</p> CLI Option Environment Variable Example <code>-i, --inventory-path</code> <code>AVD_CLI_INVENTORY_PATH</code> <code>./inventory</code> <code>-o, --output-path</code> <code>AVD_CLI_OUTPUT_PATH</code> <code>./output</code> <code>-l, --limit-to-groups</code> <code>AVD_CLI_LIMIT_TO_GROUPS</code> <code>SPINES,LEAFS</code> <code>--workflow</code> <code>AVD_CLI_WORKFLOW</code> <code>eos-design</code> <code>--show-deprecation-warnings</code> <code>AVD_CLI_SHOW_DEPRECATION_WARNINGS</code> <code>true</code> <code>--test-type</code> <code>AVD_CLI_TEST_TYPE</code> <code>anta</code>"},{"location":"user-guide/commands/generate/#example","title":"Example","text":"<pre><code>export AVD_CLI_INVENTORY_PATH=./inventory\nexport AVD_CLI_OUTPUT_PATH=./output\nexport AVD_CLI_WORKFLOW=eos-design\n\n# Now run without repeating options\navd-cli generate all\n</code></pre>"},{"location":"user-guide/commands/generate/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user-guide/commands/generate/#selective-generation","title":"Selective Generation","text":"<p>Process only specific device groups for faster iteration:</p> <pre><code># Only spines\navd-cli generate all -i ./inventory -o ./output -l SPINES\n\n# Multiple groups\navd-cli generate all -i ./inventory -o ./output -l SPINES -l LEAFS -l BORDER_LEAFS\n</code></pre>"},{"location":"user-guide/commands/generate/#cicd-integration","title":"CI/CD Integration","text":"<pre><code>#!/bin/bash\nset -e\n\n# Set paths\nexport AVD_CLI_INVENTORY_PATH=\"${CI_PROJECT_DIR}/inventory\"\nexport AVD_CLI_OUTPUT_PATH=\"${CI_PROJECT_DIR}/output\"\n\n# Validate first\navd-cli validate\n\n# Generate\navd-cli generate all\n\n# Artifacts are now in $AVD_CLI_OUTPUT_PATH\n</code></pre>"},{"location":"user-guide/commands/generate/#see-also","title":"See Also","text":"<ul> <li>Workflows - Understand eos-design vs cli-config</li> <li>Environment Variables - Complete variable reference</li> <li>Examples - Real-world examples</li> </ul>"},{"location":"user-guide/commands/info/","title":"info","text":""},{"location":"user-guide/commands/info/#info-command","title":"info Command","text":"<p>Display detailed information about your AVD inventory.</p>"},{"location":"user-guide/commands/info/#synopsis","title":"Synopsis","text":"<pre><code>avd-cli info [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/info/#options","title":"Options","text":"Option Short Type Default Description <code>--inventory-path</code> <code>-i</code> Path Required Path to AVD inventory directory <code>--format</code> <code>-f</code> Choice <code>table</code> Output format: <code>table</code>, <code>json</code>, or <code>yaml</code> <code>--verbose</code> <code>-v</code> Flag <code>false</code> Enable verbose output"},{"location":"user-guide/commands/info/#usage-examples","title":"Usage Examples","text":""},{"location":"user-guide/commands/info/#table-format-default","title":"Table Format (Default)","text":"<pre><code>avd-cli info -i ./inventory\n</code></pre> <p>Output:</p> <pre><code>\u2192 Loading inventory...\n\u2713 Loaded 10 devices\n\n           Inventory Summary\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Metric                  \u2503 Value     \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Total Devices           \u2502 10        \u2502\n\u2502 Total Fabrics           \u2502 1         \u2502\n\u2502 Fabric: CAMPUS_FABRIC   \u2502           \u2502\n\u2502   - Design Type         \u2502 l3ls-evpn \u2502\n\u2502   - Spine Devices       \u2502 2         \u2502\n\u2502   - Leaf Devices        \u2502 8         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                             Devices\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Hostname       \u2503 Type  \u2503 Platform \u2503 Management IP \u2503 Fabric        \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 spine01        \u2502 spine \u2502 7050X3   \u2502 192.168.0.10  \u2502 CAMPUS_FABRIC \u2502\n\u2502 spine02        \u2502 spine \u2502 7050X3   \u2502 192.168.0.11  \u2502 CAMPUS_FABRIC \u2502\n\u2502 leaf-1a        \u2502 leaf  \u2502 722XP    \u2502 192.168.0.12  \u2502 CAMPUS_FABRIC \u2502\n\u2502 ...            \u2502       \u2502          \u2502               \u2502               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/commands/info/#json-format","title":"JSON Format","text":"<pre><code>avd-cli info -i ./inventory --format json\n</code></pre> <p>Output:</p> <pre><code>{\n  \"summary\": {\n    \"total_devices\": 10,\n    \"total_fabrics\": 1\n  },\n  \"fabrics\": [\n    {\n      \"name\": \"CAMPUS_FABRIC\",\n      \"design_type\": \"l3ls-evpn\",\n      \"spine_count\": 2,\n      \"leaf_count\": 8,\n      \"devices\": [\n        {\n          \"hostname\": \"spine01\",\n          \"type\": \"spine\",\n          \"platform\": \"7050X3\",\n          \"mgmt_ip\": \"192.168.0.10\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"user-guide/commands/info/#yaml-format","title":"YAML Format","text":"<pre><code>avd-cli info -i ./inventory --format yaml\n</code></pre> <p>Output:</p> <pre><code>summary:\n  total_devices: 10\n  total_fabrics: 1\nfabrics:\n  - name: CAMPUS_FABRIC\n    design_type: l3ls-evpn\n    spine_count: 2\n    leaf_count: 8\n    devices:\n      - hostname: spine01\n        type: spine\n        platform: 7050X3\n        mgmt_ip: 192.168.0.10\n</code></pre>"},{"location":"user-guide/commands/info/#environment-variables","title":"Environment Variables","text":"CLI Option Environment Variable Example <code>-i, --inventory-path</code> <code>AVD_CLI_INVENTORY_PATH</code> <code>./inventory</code> <code>-f, --format</code> <code>AVD_CLI_FORMAT</code> <code>json</code>"},{"location":"user-guide/commands/info/#example","title":"Example","text":"<pre><code>export AVD_CLI_INVENTORY_PATH=./inventory\nexport AVD_CLI_FORMAT=json\n\navd-cli info\n</code></pre>"},{"location":"user-guide/commands/info/#use-cases","title":"Use Cases","text":""},{"location":"user-guide/commands/info/#quick-inventory-overview","title":"Quick Inventory Overview","text":"<pre><code># Get a quick summary\navd-cli info -i ./inventory\n</code></pre>"},{"location":"user-guide/commands/info/#machine-readable-output","title":"Machine-Readable Output","text":"<pre><code># For scripts or CI/CD\navd-cli info -i ./inventory --format json &gt; inventory-info.json\n</code></pre>"},{"location":"user-guide/commands/info/#verbose-diagnostics","title":"Verbose Diagnostics","text":"<pre><code># Detailed output for troubleshooting\navd-cli info -i ./inventory --verbose\n</code></pre>"},{"location":"user-guide/commands/info/#see-also","title":"See Also","text":"<ul> <li>validate Command - Validate inventory structure</li> <li>Inventory Structure - Learn about inventory organization</li> </ul>"},{"location":"user-guide/commands/overview/","title":"Commands Overview","text":""},{"location":"user-guide/commands/overview/#commands-overview","title":"Commands Overview","text":"<p>AVD CLI provides a comprehensive set of commands for managing your Arista AVD network configurations.</p>"},{"location":"user-guide/commands/overview/#available-commands","title":"Available Commands","text":"Command Description Learn More generate Generate configurations, documentation, and tests Details info Display inventory information Details validate Validate inventory structure Details"},{"location":"user-guide/commands/overview/#command-hierarchy","title":"Command Hierarchy","text":"<pre><code>graph LR\n    A[avd-cli] --&gt; B[generate]\n    A --&gt; C[info]\n    A --&gt; D[validate]\n    B --&gt; E[all]\n    B --&gt; F[configs]\n    B --&gt; G[docs]\n    B --&gt; H[tests]</code></pre>"},{"location":"user-guide/commands/overview/#common-patterns","title":"Common Patterns","text":""},{"location":"user-guide/commands/overview/#using-with-environment-variables","title":"Using with Environment Variables","text":"<pre><code>export AVD_CLI_INVENTORY_PATH=./inventory\nexport AVD_CLI_OUTPUT_PATH=./output\n\navd-cli generate all\navd-cli info\navd-cli validate\n</code></pre>"},{"location":"user-guide/commands/overview/#using-with-explicit-options","title":"Using with Explicit Options","text":"<pre><code>avd-cli generate all -i ./inventory -o ./output\navd-cli info -i ./inventory\navd-cli validate -i ./inventory\n</code></pre>"},{"location":"user-guide/commands/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about the generate command</li> <li>Learn about the info command</li> <li>Learn about the validate command</li> </ul>"},{"location":"user-guide/commands/validate/","title":"validate","text":""},{"location":"user-guide/commands/validate/#validate-command","title":"validate Command","text":"<p>Validate your AVD inventory structure before generating configurations.</p>"},{"location":"user-guide/commands/validate/#synopsis","title":"Synopsis","text":"<pre><code>avd-cli validate [OPTIONS]\n</code></pre>"},{"location":"user-guide/commands/validate/#options","title":"Options","text":"Option Short Type Default Description <code>--inventory-path</code> <code>-i</code> Path Required Path to AVD inventory directory <code>--verbose</code> <code>-v</code> Flag <code>false</code> Enable verbose validation output"},{"location":"user-guide/commands/validate/#what-gets-validated","title":"What Gets Validated","text":"<p>The validate command performs comprehensive checks on your inventory:</p>"},{"location":"user-guide/commands/validate/#file-structure","title":"\u2705 File Structure","text":"<ul> <li>Inventory file exists (<code>inventory.yml</code> or <code>hosts.yml</code>)</li> <li>Required <code>group_vars/</code> directory exists</li> <li>Fabric-level group variables exist</li> </ul>"},{"location":"user-guide/commands/validate/#topology-validation","title":"\u2705 Topology Validation","text":"<ul> <li>Fabric topology structure is valid</li> <li>Spine devices are defined (for <code>eos-design</code> workflow)</li> <li>Node groups are properly structured</li> <li>Device nodes have required properties</li> </ul>"},{"location":"user-guide/commands/validate/#variable-validation","title":"\u2705 Variable Validation","text":"<ul> <li>Required variables are present</li> <li>Variable hierarchy is correct</li> <li>Jinja2 templates are syntactically valid</li> </ul>"},{"location":"user-guide/commands/validate/#schema-validation","title":"\u2705 Schema Validation","text":"<ul> <li>Group variable files are valid YAML</li> <li>Device definitions follow AVD schema</li> <li>Fabric design parameters are complete</li> </ul>"},{"location":"user-guide/commands/validate/#usage-examples","title":"Usage Examples","text":""},{"location":"user-guide/commands/validate/#basic-validation","title":"Basic Validation","text":"<pre><code>avd-cli validate -i ./inventory\n</code></pre> <p>Output (Success):</p> <pre><code>\u2192 Validating inventory structure...\n\u2713 Inventory file found: inventory.yml\n\u2713 Group variables directory found: group_vars/\n\u2713 Fabric group variables found: group_vars/CAMPUS_FABRIC.yml\n\u2713 Fabric topology validated: CAMPUS_FABRIC\n\u2713 Found 2 spine devices\n\u2713 Found 8 leaf devices\n\u2713 Variable hierarchy validated\n\u2713 All device definitions are valid\n\n\u2713 Validation successful!\n</code></pre> <p>Output (Errors):</p> <pre><code>\u2192 Validating inventory structure...\n\u2713 Inventory file found: inventory.yml\n\u2713 Group variables directory found: group_vars/\n\u2717 Fabric group variables not found: group_vars/CAMPUS_FABRIC.yml\n\u2717 Spine devices not found in topology\n\n\u2717 Validation failed with 2 errors\n</code></pre>"},{"location":"user-guide/commands/validate/#verbose-validation","title":"Verbose Validation","text":"<pre><code>avd-cli validate -i ./inventory --verbose\n</code></pre> <p>Provides detailed information about:</p> <ul> <li>File paths being checked</li> <li>Variables being loaded</li> <li>Jinja2 template resolution</li> <li>Validation steps performed</li> </ul>"},{"location":"user-guide/commands/validate/#environment-variables","title":"Environment Variables","text":"CLI Option Environment Variable Example <code>-i, --inventory-path</code> <code>AVD_CLI_INVENTORY_PATH</code> <code>./inventory</code>"},{"location":"user-guide/commands/validate/#example","title":"Example","text":"<pre><code>export AVD_CLI_INVENTORY_PATH=./inventory\n\navd-cli validate\n</code></pre>"},{"location":"user-guide/commands/validate/#integration-with-cicd","title":"Integration with CI/CD","text":""},{"location":"user-guide/commands/validate/#pre-commit-hook","title":"Pre-Commit Hook","text":"<pre><code>#!/bin/bash\n# .git/hooks/pre-commit\n\necho \"Validating AVD inventory...\"\navd-cli validate -i ./inventory\n\nif [ $? -ne 0 ]; then\n    echo \"\u274c Inventory validation failed\"\n    exit 1\nfi\n\necho \"\u2705 Inventory validation passed\"\n</code></pre>"},{"location":"user-guide/commands/validate/#gitlab-ci","title":"GitLab CI","text":"<pre><code>validate:\n  stage: validate\n  script:\n    - avd-cli validate -i ./inventory\n</code></pre>"},{"location":"user-guide/commands/validate/#github-actions","title":"GitHub Actions","text":"<pre><code>- name: Validate Inventory\n  run: |\n    avd-cli validate -i ./inventory\n</code></pre>"},{"location":"user-guide/commands/validate/#common-issues","title":"Common Issues","text":""},{"location":"user-guide/commands/validate/#missing-spine-devices","title":"Missing Spine Devices","text":"<p>Error: </p><pre><code>\u2717 Spine devices not found in topology\n</code></pre><p></p> <p>Solution: Ensure your fabric configuration includes spine device definitions:</p> <pre><code># group_vars/FABRIC.yml\nspine:\n  nodes:\n    - name: spine1\n      id: 1\n</code></pre>"},{"location":"user-guide/commands/validate/#invalid-yaml-syntax","title":"Invalid YAML Syntax","text":"<p>Error: </p><pre><code>\u2717 Failed to parse group_vars/FABRIC.yml: YAML syntax error\n</code></pre><p></p> <p>Solution: Check YAML syntax, indentation, and special characters.</p>"},{"location":"user-guide/commands/validate/#missing-required-variables","title":"Missing Required Variables","text":"<p>Error: </p><pre><code>\u2717 Required variable 'fabric_name' not found\n</code></pre><p></p> <p>Solution: Add the required variable to your fabric group_vars:</p> <pre><code># group_vars/FABRIC.yml\nfabric_name: MY_FABRIC\n</code></pre>"},{"location":"user-guide/commands/validate/#see-also","title":"See Also","text":"<ul> <li>Inventory Structure - Learn about inventory organization</li> <li>generate Command - Generate configurations after validation</li> <li>info Command - View inventory information</li> </ul>"}]}